
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>trajoptlib package &#8212; trajoptlib 0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="trajoptlib-package">
<h1>trajoptlib package<a class="headerlink" href="#trajoptlib-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="trajoptlib.io.html">trajoptlib.io package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="trajoptlib.io.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="trajoptlib.io.html#module-trajoptlib.io.argument">trajoptlib.io.argument module</a></li>
<li class="toctree-l2"><a class="reference internal" href="trajoptlib.io.html#module-trajoptlib.io.fileio">trajoptlib.io.fileio module</a></li>
<li class="toctree-l2"><a class="reference internal" href="trajoptlib.io.html#module-trajoptlib.io.printio">trajoptlib.io.printio module</a></li>
<li class="toctree-l2"><a class="reference internal" href="trajoptlib.io.html#module-trajoptlib.io.stringio">trajoptlib.io.stringio module</a></li>
<li class="toctree-l2"><a class="reference internal" href="trajoptlib.io.html#module-trajoptlib.io">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="trajoptlib.legacy.html">trajoptlib.legacy package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="trajoptlib.legacy.html#module-trajoptlib.legacy">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="trajoptlib.plot.html">trajoptlib.plot package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="trajoptlib.plot.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="trajoptlib.plot.html#module-trajoptlib.plot.common">trajoptlib.plot.common module</a></li>
<li class="toctree-l2"><a class="reference internal" href="trajoptlib.plot.html#module-trajoptlib.plot.compare">trajoptlib.plot.compare module</a></li>
<li class="toctree-l2"><a class="reference internal" href="trajoptlib.plot.html#module-trajoptlib.plot.plot3d">trajoptlib.plot.plot3d module</a></li>
<li class="toctree-l2"><a class="reference internal" href="trajoptlib.plot.html#module-trajoptlib.plot">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-trajoptlib.classBuilder">
<span id="trajoptlib-classbuilder-module"></span><h2>trajoptlib.classBuilder module<a class="headerlink" href="#module-trajoptlib.classBuilder" title="Permalink to this headline">¶</a></h2>
<p>classBuilder.py</p>
<p>This module provides versatile functions that helps user build up classes quickly.
Specifically, it allows fast prototype of problems.
However, the users have to write functions that are autograd compatible.
Most basically, import autograd.numpy instead of numpy</p>
<dl class="class">
<dt id="trajoptlib.classBuilder.DaeSystemWrapper">
<em class="property">class </em><code class="descclassname">trajoptlib.classBuilder.</code><code class="descname">DaeSystemWrapper</code><span class="sig-paren">(</span><em>fun</em>, <em>nx</em>, <em>nu</em>, <em>np</em>, <em>nf</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/classBuilder.html#DaeSystemWrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.classBuilder.DaeSystemWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.DaeSystem" title="trajoptlib.trajOptBase.DaeSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.DaeSystem</span></code></a></p>
<p>This class takes a function and returns a system.</p>
<dl class="method">
<dt id="trajoptlib.classBuilder.DaeSystemWrapper.dyn">
<code class="descname">dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p</em>, <em>y</em>, <em>G</em>, <em>row</em>, <em>col</em>, <em>rec</em>, <em>needg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/classBuilder.html#DaeSystemWrapper.dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.classBuilder.DaeSystemWrapper.dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Override class method</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.classBuilder.NonLinearPointConstrWrapper">
<em class="property">class </em><code class="descclassname">trajoptlib.classBuilder.</code><code class="descname">NonLinearPointConstrWrapper</code><span class="sig-paren">(</span><em>fun</em>, <em>nx</em>, <em>nu</em>, <em>np</em>, <em>nc</em>, <em>index</em>, <em>lb=None</em>, <em>ub=None</em>, <em>args=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/classBuilder.html#NonLinearPointConstrWrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.classBuilder.NonLinearPointConstrWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.NonLinearPointConstr" title="trajoptlib.trajOptBase.NonLinearPointConstr"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.NonLinearPointConstr</span></code></a></p>
<p>This class takes a function and wrap it as a point constraint.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.classBuilder.SystemWrapper">
<em class="property">class </em><code class="descclassname">trajoptlib.classBuilder.</code><code class="descname">SystemWrapper</code><span class="sig-paren">(</span><em>fun</em>, <em>nx</em>, <em>nu</em>, <em>np</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/classBuilder.html#SystemWrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.classBuilder.SystemWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.System" title="trajoptlib.trajOptBase.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.System</span></code></a></p>
<p>This class takes a function and returns a system.</p>
<dl class="method">
<dt id="trajoptlib.classBuilder.SystemWrapper.dyn">
<code class="descname">dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/classBuilder.html#SystemWrapper.dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.classBuilder.SystemWrapper.dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamics function without gradient information.</p>
<p>It has to be overriden.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>t</strong> – float, time when evaluating system dynamics</li>
<li><strong>x</strong> – np.ndarray, (nx,) state variable</li>
<li><strong>u</strong> – np.ndarray, (nu,) control variable</li>
<li><strong>p</strong> – np.ndarray, (np,) additional optimizing variable</li>
<li><strong>h</strong> – float, used for discretized system. Integration step size</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">either dotx or x_k+1 depends on system type</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.classBuilder.SystemWrapper.jac_dyn">
<code class="descname">jac_dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/classBuilder.html#SystemWrapper.jac_dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.classBuilder.SystemWrapper.jac_dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamics function with Jacobian return.</p>
<p>It has to be overriden.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong><strong>, </strong><strong>u</strong><strong>, </strong><strong>p</strong><strong>, </strong><strong>h</strong> (<em>t</em><em>,</em>) – see dyn</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">y: ndarray, either dotx or x_k+1</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">J: ndarray/spmatrix, returning Jacobian of this function evaluation</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="trajoptlib.classBuilder.blockIndex">
<code class="descclassname">trajoptlib.classBuilder.</code><code class="descname">blockIndex</code><span class="sig-paren">(</span><em>i</em>, <em>j</em>, <em>rows</em>, <em>cols</em>, <em>order='C'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/classBuilder.html#blockIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.classBuilder.blockIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>For a matrix block, we return the index of row and columns.</p>
<p>For a matrix we choose a block using the upper left corner positioned
at (i, j) and size (row, col). Each element of the block has row and
col index, they are returned in two arrays. The order controls we use
row or column major order</p>
<p>For example, blockIndex(1, 3, 2, 3, ‘C’) returns
(array([1, 1, 1, 2, 2, 2]), array([3, 4, 5, 3, 4, 5]))</p>
<dl class="docutils">
<dt>i: int</dt>
<dd>the row of the upper left corner</dd>
<dt>j: int</dt>
<dd>the column of the upper left corner</dd>
<dt>rows: int</dt>
<dd>number of rows of the block</dd>
<dt>cols: int</dt>
<dd>number of columns of the block</dd>
<dt>order: char</dt>
<dd>(‘C’/’F’) if we return row or column major</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-trajoptlib.systemBuilder">
<span id="trajoptlib-systembuilder-module"></span><h2>trajoptlib.systemBuilder module<a class="headerlink" href="#module-trajoptlib.systemBuilder" title="Permalink to this headline">¶</a></h2>
<p>Code to build dynamical systems</p>
<dl class="class">
<dt id="trajoptlib.systemBuilder.GeometricRobot">
<em class="property">class </em><code class="descclassname">trajoptlib.systemBuilder.</code><code class="descname">GeometricRobot</code><span class="sig-paren">(</span><em>dim</em>, <em>dimp=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/systemBuilder.html#GeometricRobot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.systemBuilder.GeometricRobot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.DaeSystem" title="trajoptlib.trajOptBase.DaeSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.DaeSystem</span></code></a></p>
<p>A class that defines a geometric robot, no dynamics involved</p>
<dl class="method">
<dt id="trajoptlib.systemBuilder.GeometricRobot.dyn">
<code class="descname">dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p</em>, <em>y</em>, <em>G</em>, <em>row</em>, <em>col</em>, <em>rec</em>, <em>needg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/systemBuilder.html#GeometricRobot.dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.systemBuilder.GeometricRobot.dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Write dynamics function</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.systemBuilder.GeometricRobotSystem">
<em class="property">class </em><code class="descclassname">trajoptlib.systemBuilder.</code><code class="descname">GeometricRobotSystem</code><span class="sig-paren">(</span><em>dim</em>, <em>dimp=0</em>, <em>ode='Euler'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/systemBuilder.html#GeometricRobotSystem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.systemBuilder.GeometricRobotSystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.System" title="trajoptlib.trajOptBase.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.System</span></code></a></p>
<p>A class that implements a geometric robot, second order.</p>
<dl class="method">
<dt id="trajoptlib.systemBuilder.GeometricRobotSystem.dyn">
<code class="descname">dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p=None</em>, <em>h=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/systemBuilder.html#GeometricRobotSystem.dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.systemBuilder.GeometricRobotSystem.dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamics function without gradient information.</p>
<p>It has to be overriden.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>t</strong> – float, time when evaluating system dynamics</li>
<li><strong>x</strong> – np.ndarray, (nx,) state variable</li>
<li><strong>u</strong> – np.ndarray, (nu,) control variable</li>
<li><strong>p</strong> – np.ndarray, (np,) additional optimizing variable</li>
<li><strong>h</strong> – float, used for discretized system. Integration step size</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">either dotx or x_k+1 depends on system type</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.systemBuilder.GeometricRobotSystem.jac_dyn">
<code class="descname">jac_dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p</em>, <em>h=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/systemBuilder.html#GeometricRobotSystem.jac_dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.systemBuilder.GeometricRobotSystem.jac_dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamics function with Jacobian return.</p>
<p>It has to be overriden.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong><strong>, </strong><strong>u</strong><strong>, </strong><strong>p</strong><strong>, </strong><strong>h</strong> (<em>t</em><em>,</em>) – see dyn</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">y: ndarray, either dotx or x_k+1</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">J: ndarray/spmatrix, returning Jacobian of this function evaluation</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-trajoptlib.trajOptBase">
<span id="trajoptlib-trajoptbase-module"></span><h2>trajoptlib.trajOptBase module<a class="headerlink" href="#module-trajoptlib.trajOptBase" title="Permalink to this headline">¶</a></h2>
<p>trajOptBase.py</p>
<p>Classes ready to be used for trajectory optimization.</p>
<dl class="class">
<dt id="trajoptlib.trajOptBase.AddX">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptBase.</code><code class="descname">AddX</code><span class="sig-paren">(</span><em>n</em>, <em>lb=None</em>, <em>ub=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#AddX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.AddX" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A description of additional optimizing parameter.</p>
<p>It is intended to be used if the optimal control has like point constraint.
In this class the user has to supply the size and bounds of those variables.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptBase.BaseFun">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptBase.</code><code class="descname">BaseFun</code><span class="sig-paren">(</span><em>nx</em>, <em>nf</em>, <em>gradmode</em>, <em>ng=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#BaseFun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.BaseFun" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for functions, including both objective and constraint.</p>
<p>This function should be inherited to define your own functions.
A function with user supplied gradient information, nx, nf, ng should be set.</p>
<dl class="method">
<dt id="trajoptlib.trajOptBase.BaseFun.findTimeGradient">
<code class="descname">findTimeGradient</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#BaseFun.findTimeGradient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.BaseFun.findTimeGradient" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="trajoptlib.trajOptBase.BaseFun.grad">
<code class="descname">grad</code><em class="property"> = ['user', 'no']</em><a class="headerlink" href="#trajoptlib.trajOptBase.BaseFun.grad" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptBase.DaeSystem">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptBase.</code><code class="descname">DaeSystem</code><span class="sig-paren">(</span><em>nx</em>, <em>nu</em>, <em>np</em>, <em>nf</em>, <em>nG</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#DaeSystem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.DaeSystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A DAE system.</p>
<dl class="method">
<dt id="trajoptlib.trajOptBase.DaeSystem.dyn">
<code class="descname">dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p</em>, <em>y</em>, <em>G</em>, <em>row</em>, <em>col</em>, <em>rec</em>, <em>needg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#DaeSystem.dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.DaeSystem.dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of system dynamics expressed in a dae.</p>
<p>It evaluates system dynamics like f(t, q, dq, ddq, p, u) = 0 and calculate gradients if necessary.
:param t: float, time of evaluation
:param x: ndarray, (nx,) state variable, it might contain q, dq, ddq or in more general case q and dq.
:param u: ndarray, (nu,) control variable
:param p: ndarray, (np,) parameter used such as reaction force from ground
:param y: ndarray, (nq,) this constraint function. It is evaluated here.
:param G, row, col: ndarray, (nG,) gradient of this constraints, row and col index
:param rec: bool, if we need to write row and col
:param needg: bool, if we have to evaluate gradients.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptBase.DaeSystem.findTimeGradient">
<code class="descname">findTimeGradient</code><span class="sig-paren">(</span><em>catx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#DaeSystem.findTimeGradient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.DaeSystem.findTimeGradient" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect if gradient is time related.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptBase.LinearConstr">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptBase.</code><code class="descname">LinearConstr</code><span class="sig-paren">(</span><em>A</em>, <em>lb=None</em>, <em>ub=None</em>, <em>offset=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#LinearConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.LinearConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for linear constraints based on the whole x length.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptBase.LinearObj">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptBase.</code><code class="descname">LinearObj</code><span class="sig-paren">(</span><em>A</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#LinearObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.LinearObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for directly add linear objective function over the entire decision variable.</p>
<p>It serves for objective of form <span class="math notranslate nohighlight">\(y=Ax\)</span> where <span class="math notranslate nohighlight">\(x\)</span> is the collected long vector.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptBase.LinearPointConstr">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptBase.</code><code class="descname">LinearPointConstr</code><span class="sig-paren">(</span><em>index</em>, <em>A</em>, <em>lb=None</em>, <em>ub=None</em>, <em>offset=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#LinearPointConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.LinearPointConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase._objectWithMatrix</span></code></p>
<p>Class for linear constraint at selected points.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptBase.LinearPointObj">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptBase.</code><code class="descname">LinearPointObj</code><span class="sig-paren">(</span><em>index</em>, <em>A</em>, <em>nx</em>, <em>nu</em>, <em>np_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#LinearPointObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.LinearPointObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase._objectWithMatrix</span></code></p>
<p>Class for directly add linear objective function over the entire decision variable.</p>
<p>It serves for objective function of the form <span class="math notranslate nohighlight">\(y=Ax\)</span> where <span class="math notranslate nohighlight">\(x\)</span> is the concatenated vector of state,
control and parameter at a selected index.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptBase.LqrObj">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptBase.</code><code class="descname">LqrObj</code><span class="sig-paren">(</span><em>F=None</em>, <em>Q=None</em>, <em>R=None</em>, <em>xfbase=None</em>, <em>xbase=None</em>, <em>ubase=None</em>, <em>tfweight=None</em>, <em>P=None</em>, <em>pbase=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#LqrObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.LqrObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for LQR objective since it is so common. It is treated independently with pathObj.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptBase.NonDiagLqrObj">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptBase.</code><code class="descname">NonDiagLqrObj</code><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#NonDiagLqrObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.NonDiagLqrObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for LQR objective with non-diagonal entries</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptBase.NonLinearConstr">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptBase.</code><code class="descname">NonLinearConstr</code><span class="sig-paren">(</span><em>nsol</em>, <em>nc</em>, <em>lb=None</em>, <em>ub=None</em>, <em>gradmode='user'</em>, <em>nG=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#NonLinearConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.NonLinearConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.BaseFun" title="trajoptlib.trajOptBase.BaseFun"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.BaseFun</span></code></a></p>
<p>Class for defining constraint function in a general form.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptBase.NonLinearObj">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptBase.</code><code class="descname">NonLinearObj</code><span class="sig-paren">(</span><em>nsol</em>, <em>gradmode='user'</em>, <em>nG=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#NonLinearObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.NonLinearObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.BaseFun" title="trajoptlib.trajOptBase.BaseFun"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.BaseFun</span></code></a></p>
<p>Class for general nonlinear objective function over the entire decision variables.</p>
<p>The objective function is basically calculated by calling a nonlinear function.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptBase.NonLinearPointConstr">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptBase.</code><code class="descname">NonLinearPointConstr</code><span class="sig-paren">(</span><em>index</em>, <em>nc</em>, <em>nx</em>, <em>nu</em>, <em>np=0</em>, <em>lb=None</em>, <em>ub=None</em>, <em>gradmode='user'</em>, <em>nG=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#NonLinearPointConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.NonLinearPointConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.BaseFun" title="trajoptlib.trajOptBase.BaseFun"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.BaseFun</span></code></a></p>
<p>Class for defining point constraint function.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptBase.NonLinearPointObj">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptBase.</code><code class="descname">NonLinearPointObj</code><span class="sig-paren">(</span><em>index</em>, <em>nx</em>, <em>nu</em>, <em>np=0</em>, <em>gradmode='user'</em>, <em>nG=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#NonLinearPointObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.NonLinearPointObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.BaseFun" title="trajoptlib.trajOptBase.BaseFun"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.BaseFun</span></code></a></p>
<p>Class for defining point objective function.</p>
<p>Similar to linear case. A function that takes the concatenated vector at a selected index is used.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptBase.QuadPenalty">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptBase.</code><code class="descname">QuadPenalty</code><span class="sig-paren">(</span><em>indices</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#QuadPenalty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.QuadPenalty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.NonLinearObj" title="trajoptlib.trajOptBase.NonLinearObj"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.NonLinearObj</span></code></a></p>
<p>In many scenarios, we want to minimize the quadratic of some variables for some variables.</p>
<p>This is generally different from LQR objective by that it is a point constraint and thus not integral one.
To make it versatile, the user is allowed to pass indices so we can directly evaluate those variables.
User friendly classes are also created so the indices are calculated internally.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptBase.System">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptBase.</code><code class="descname">System</code><span class="sig-paren">(</span><em>nx</em>, <em>nu</em>, <em>np=0</em>, <em>ode='Euler'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#System"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.System" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Description of the dynamical system.</p>
<p>To define a dynamical system, we need to specify dimension of state, control, and parameter.
Optionally, integration approach can be selected.
This function should be inherited and users are supposed to override dyn/jac_dyn functions.</p>
<dl class="method">
<dt id="trajoptlib.trajOptBase.System.dyn">
<code class="descname">dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p=None</em>, <em>h=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#System.dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.System.dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamics function without gradient information.</p>
<p>It has to be overriden.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>t</strong> – float, time when evaluating system dynamics</li>
<li><strong>x</strong> – np.ndarray, (nx,) state variable</li>
<li><strong>u</strong> – np.ndarray, (nu,) control variable</li>
<li><strong>p</strong> – np.ndarray, (np,) additional optimizing variable</li>
<li><strong>h</strong> – float, used for discretized system. Integration step size</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">either dotx or x_k+1 depends on system type</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptBase.System.jac_dyn">
<code class="descname">jac_dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p=None</em>, <em>h=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#System.jac_dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.System.jac_dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamics function with Jacobian return.</p>
<p>It has to be overriden.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong><strong>, </strong><strong>u</strong><strong>, </strong><strong>p</strong><strong>, </strong><strong>h</strong> (<em>t</em><em>,</em>) – see dyn</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">y: ndarray, either dotx or x_k+1</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">J: ndarray/spmatrix, returning Jacobian of this function evaluation</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="trajoptlib.trajOptBase.System.odes">
<code class="descname">odes</code><em class="property"> = ['RK4', 'Dis', 'Euler', 'BackEuler']</em><a class="headerlink" href="#trajoptlib.trajOptBase.System.odes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptBase.System.set_ode">
<code class="descname">set_ode</code><span class="sig-paren">(</span><em>method</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#System.set_ode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptBase.System.set_ode" title="Permalink to this definition">¶</a></dt>
<dd><p>Set ode approach.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>method</strong> – str, name of ode approach.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-trajoptlib.trajOptCollocationProblem">
<span id="trajoptlib-trajoptcollocationproblem-module"></span><h2>trajoptlib.trajOptCollocationProblem module<a class="headerlink" href="#module-trajoptlib.trajOptCollocationProblem" title="Permalink to this headline">¶</a></h2>
<p>trajOptCollocationProblem.py</p>
<p>This class implements the direct collocation approach for humanoid trajectory optimization</p>
<dl class="class">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptCollocationProblem.</code><code class="descname">TrajOptCollocProblem</code><span class="sig-paren">(</span><em>sys</em>, <em>N</em>, <em>t0</em>, <em>tf</em>, <em>addx=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pyoptsolver.pyoptsolvercpp.OptProblem</span></code></p>
<p>A class for definition of trajectory optimization problem using collocation constraints.</p>
<p>A general framework for using this class is to:</p>
<ol class="arabic simple">
<li>Define a class which implements a DAE system, f(t, x, p, u)=0. This is a typical case for humanoid problem, but also flexible enough for simpler first order system.</li>
<li>Optionally, write desired cost function by subclass/creating from the list of available cost functions. This can be built incrementally by adding pieces.</li>
<li>Optionally, write desired constraint functions by subclass from available constraints. This can be built incrementally by adding pieces. Our approach can correctly detect the Jacobian structure.</li>
<li>Create this class with selected system, discretization, t0, tf range</li>
<li>Set bounds for state, control, parameters, x0 and xf</li>
<li>Add objective functions and constraints to this class</li>
<li>Call preProcess method explicitly</li>
<li>Create snoptConfig instance and choose desired options</li>
<li>Construct the solver</li>
<li>Use the solver to solve with either automatic guess or user provided guess</li>
</ol>
<p>The system dynamics constraints are imposed using direct collocation approach with some additional optimization
variables as suggested by others.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Currentmodule:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addAddXQuadPenalty">
<code class="descname">addAddXQuadPenalty</code><span class="sig-paren">(</span><em>index</em>, <em>weights</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addAddXQuadPenalty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addAddXQuadPenalty" title="Permalink to this definition">¶</a></dt>
<dd><p>Add quadratic penalty to addx variables.</p>
<p>The API is slightly different from previous three since we cannot guarantee weights are of the same lenght.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> – int, indices of parameter variables to be penalized.</li>
<li><strong>weights</strong> – float/array-like, weights of penalty</li>
<li><strong>mask</strong> – filter</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addConstr">
<code class="descname">addConstr</code><span class="sig-paren">(</span><em>constr</em>, <em>path=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">add_constr()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addControlQuadPenalty">
<code class="descname">addControlQuadPenalty</code><span class="sig-paren">(</span><em>index</em>, <em>weights</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addControlQuadPenalty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addControlQuadPenalty" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a quadratic penalty on selected control variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> – int/array-like, indices of control variables to be penalized.</li>
<li><strong>weights</strong> – float/array-like, weights of penalty</li>
<li><strong>mask</strong> – filter to select subset</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addLQRObj">
<code class="descname">addLQRObj</code><span class="sig-paren">(</span><em>lqrobj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addLQRObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addLQRObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">trajOptLib.TrajOptCollocProblem.add_lqr_obj()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addLinearConstr">
<code class="descname">addLinearConstr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addLinearConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addLinearConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a linear constraint to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – a linearConstr object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addLinearObj">
<code class="descname">addLinearObj</code><span class="sig-paren">(</span><em>linObj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addLinearObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addLinearObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add linear objective function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>linObj</strong> – linearObj class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addLinearPointConstr">
<code class="descname">addLinearPointConstr</code><span class="sig-paren">(</span><em>constr</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addLinearPointConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addLinearPointConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a linear point constraint to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>constr</strong> – a linearPointConstr object</li>
<li><strong>path</strong> – if this constraint is path constraint</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addLinearPointObj">
<code class="descname">addLinearPointObj</code><span class="sig-paren">(</span><em>linPointObj</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addLinearPointObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addLinearPointObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add linear point objective function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>linPointObj</strong> – linearPointObj class</li>
<li><strong>path</strong> – bool, if this is path obj (at every point except for final one)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addNonLinearConstr">
<code class="descname">addNonLinearConstr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addNonLinearConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addNonLinearConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a general nonlinear constraint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – nonLinConstr class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addNonLinearObj">
<code class="descname">addNonLinearObj</code><span class="sig-paren">(</span><em>nonlinObj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addNonLinearObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addNonLinearObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add nonlinear objective function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nonLinObj</strong> – a nonLinObj class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addNonLinearPointConstr">
<code class="descname">addNonLinearPointConstr</code><span class="sig-paren">(</span><em>pntConstr</em>, <em>path=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addNonLinearPointConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addNonLinearPointConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add point constraint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pntConstr</strong> – pointConstr class</li>
<li><strong>path</strong> – bool, if this obj</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Kwargs:</th><td class="field-body"><p class="first last">additional parameters, users can specify starting and ending indexes by specifying start and end</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addNonLinearPointObj">
<code class="descname">addNonLinearPointObj</code><span class="sig-paren">(</span><em>nonPntObj</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addNonLinearPointObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addNonLinearPointObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add nonlinear point objective.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nonPntObj</strong> – nonLinObj class</li>
<li><strong>path</strong> – bool, if this obj is pointwise</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addObj">
<code class="descname">addObj</code><span class="sig-paren">(</span><em>obj</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">addObj()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addParamQuadPenalty">
<code class="descname">addParamQuadPenalty</code><span class="sig-paren">(</span><em>index</em>, <em>weights</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addParamQuadPenalty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addParamQuadPenalty" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a quadratic penalty on selected parameter variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> – int/array-like, indices of parameter variables to be penalized.</li>
<li><strong>weights</strong> – float/array-like, weights of penalty</li>
<li><strong>mask</strong> – filter of variables</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addStateQuadPenalty">
<code class="descname">addStateQuadPenalty</code><span class="sig-paren">(</span><em>index</em>, <em>weights</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addStateQuadPenalty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addStateQuadPenalty" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a quadratic penalty on selected state variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> – int/array-like, indices of state variables to be penalized.</li>
<li><strong>weights</strong> – float/array-like, weights of penalty</li>
<li><strong>mask</strong> – mask-like, filter for selecting subset of variables</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addVanillaQuadPenalty">
<code class="descname">addVanillaQuadPenalty</code><span class="sig-paren">(</span><em>indices</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addVanillaQuadPenalty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.addVanillaQuadPenalty" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a quadratic penalty term based on indices in the solution vector and weights.</p>
<p>This is dangerous and might cause unexpected trouble unless you are sure indices are correct.
You can always use addStateQuadPenalty/addControlQuadPenalty/addParamQuadPenalty/addAddXQuadPenalty to finish these.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>indices</strong> – indices of variables to be penalized</li>
<li><strong>weights</strong> – float/ndarray weights associated with those variables.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.add_constr">
<code class="descname">add_constr</code><span class="sig-paren">(</span><em>constr</em>, <em>path=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.add_constr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.add_constr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a constraint to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>constr</strong> – a constraint object.</li>
<li><strong>path</strong> – bool, if this constraint is a path constraint. Only applies for point constraint.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.add_lqr_obj">
<code class="descname">add_lqr_obj</code><span class="sig-paren">(</span><em>lqrobj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.add_lqr_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.add_lqr_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a lqr objective function to the problem. It changes lqrObj into a function being called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lqrobj</strong> – a lqrObj class.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.add_obj">
<code class="descname">add_obj</code><span class="sig-paren">(</span><em>obj</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.add_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.add_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>A high level function that add objective function of any kind.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>obj</strong> – an objective object.</li>
<li><strong>path</strong> – bool, if the point objective is an integral one.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.genGuessFromSol">
<code class="descname">genGuessFromSol</code><span class="sig-paren">(</span><em>parsed_sol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.genGuessFromSol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.genGuessFromSol" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">gen_guess_from_traj()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.genGuessFromTraj">
<code class="descname">genGuessFromTraj</code><span class="sig-paren">(</span><em>X=None</em>, <em>U=None</em>, <em>P=None</em>, <em>t0=None</em>, <em>tf=None</em>, <em>addx=None</em>, <em>tstamp=None</em>, <em>obj=None</em>, <em>interp_kind='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.genGuessFromTraj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.genGuessFromTraj" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">gen_guess_from_traj()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.gen_guess_from_sol">
<code class="descname">gen_guess_from_sol</code><span class="sig-paren">(</span><em>parsed_sol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.gen_guess_from_sol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.gen_guess_from_sol" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an initial guess from a previous solution. Mainly change grid size or add perturbation. But determining structure is difficult</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parsed_sol</strong> – dictionary, output of calling parse_sol</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.gen_guess_from_traj">
<code class="descname">gen_guess_from_traj</code><span class="sig-paren">(</span><em>X=None</em>, <em>U=None</em>, <em>P=None</em>, <em>t0=None</em>, <em>tf=None</em>, <em>addx=None</em>, <em>tstamp=None</em>, <em>obj=None</em>, <em>interp_kind='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.gen_guess_from_traj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.gen_guess_from_traj" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an initial guess for the problem with user specified information.</p>
<p>An amazing feature is the user does not have to give a solution of exactly the same time-stamped trajectory used internally.
Interpolation approaches are used in such scenarios.
The user is not required to provide them all, although we suggest they do so.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X</strong> – ndarray, (x, x) each row corresponds to a state snapshot (if tstamp is None, assume equidistant grid). Column size can be dimx or dimx/sys.order</li>
<li><strong>U</strong> – ndarray, (x, dimu) each row corresponds to a control snapshot. Similar to X but with column size equals dimu</li>
<li><strong>P</strong> – ndarray, (x, dimp) each row corresponds to a parameter snapshot. Similar to X but with column size equals dimp</li>
<li><strong>t0/tf</strong> – float/array-like, initial/final time. If None, we randomly generate one</li>
<li><strong>addx</strong> – list of ndarray, guess of addx, if applicable</li>
<li><strong>tstamp</strong> – ndarray, (x,), None if the X/U/P are provided using equidistant grid.</li>
<li><strong>obj</strong> – ndarray, (x,) the objective part</li>
<li><strong>interp_kind</strong> – str, interpolation type for scipy.interpolate.interp1d, can be (‘linear’, ‘nearest’, ‘zero’, ‘slinear’, ‘quadratic’, ‘cubic’)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.getAddXIndexByIndex">
<code class="descname">getAddXIndexByIndex</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.getAddXIndexByIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.getAddXIndexByIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>With i as index of addx, it returns the starting index in solution vector for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>i</strong> – int, the index of addX we want to query.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.getContrlIndexByIndex">
<code class="descname">getContrlIndexByIndex</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.getContrlIndexByIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.getContrlIndexByIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>With i as index for control variable, return the starting index in solution vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>i</strong> – int, the index of control we want to query</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.getParamIndexByIndex">
<code class="descname">getParamIndexByIndex</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.getParamIndexByIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.getParamIndexByIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>With i as index for parameter variable, return the starting index in solution vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>i</strong> – int, the index of parameter we want to query</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.getStateIndexByIndex">
<code class="descname">getStateIndexByIndex</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.getStateIndexByIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.getStateIndexByIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>With i as index for state variable, return the starting index in solution vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>i</strong> – int, the index of State we want to query</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.parseF">
<code class="descname">parseF</code><span class="sig-paren">(</span><em>guess</em>, <em>y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.parseF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.parseF" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">parse_f()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.parse_f">
<code class="descname">parse_f</code><span class="sig-paren">(</span><em>guess</em>, <em>y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.parse_f"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.parse_f" title="Permalink to this definition">¶</a></dt>
<dd><p>Give an guess, evaluate it and parse into parts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>guess</strong> – ndarray, (numSol, ) a guess or a solution to check</li>
<li><strong>y</strong> – ndarray, (numF, ) if None, it stores the solution</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict, containing objective and parsed constraints</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.parse_sol">
<code class="descname">parse_sol</code><span class="sig-paren">(</span><em>sol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.parse_sol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.parse_sol" title="Permalink to this definition">¶</a></dt>
<dd><p>Call parseX function from utility and return a dict of solution.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.plot_jacobian">
<code class="descname">plot_jacobian</code><span class="sig-paren">(</span><em>savefnm=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.plot_jacobian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.plot_jacobian" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the jacobian pattern of this problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>savefnm</strong> – str, the filename to save pattern into. If none, no figure is saved.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.pre_process">
<code class="descname">pre_process</code><span class="sig-paren">(</span><em>colloc_constr_is_on=False</em>, <em>defect_u=True</em>, <em>defect_p=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.pre_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.pre_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the instances of probFun now we are ready.</p>
<p>Call this function after the objectives and constraints have been set appropriately.
It calculate the space required for SNOPT and allocates sparsity structure if necessary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>colloc_constr_is_on</strong> – bool, if we also impose constraints on those collocation points.</li>
<li><strong>defect_u</strong> – bool, if we want to impose defect constraint on u, i.e. umid=(u0+uf)/2</li>
<li><strong>defect_p</strong> – bool, if we want to impose defect constraint on p, i.e. pmid=(p0+pf)/2</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Caveat</strong> it might make problem over-constrained, if the path constraints are equality constraints.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.randomGenX">
<code class="descname">randomGenX</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.randomGenX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.randomGenX" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">trajOptLib.TrajOptCollocProblem.random_gen_guess()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.random_gen_guess">
<code class="descname">random_gen_guess</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.random_gen_guess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.random_gen_guess" title="Permalink to this definition">¶</a></dt>
<dd><p>A more reansonable approach to generate random guess for the problem.</p>
<p>It considers bounds on initial and final states so this is satisfied.
Then it linearly interpolate between states.
Controls are randomly generated within control bound, if it presents. Otherwise [-1, 1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return x:</th><td class="field-body">ndarray, (numSol, ) an initial guess of the solution</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.set_N">
<code class="descname">set_N</code><span class="sig-paren">(</span><em>N</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.set_N"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.set_N" title="Permalink to this definition">¶</a></dt>
<dd><p>Set N.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>N</strong> – the size of discretization.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.set_p_bound">
<code class="descname">set_p_bound</code><span class="sig-paren">(</span><em>plb</em>, <em>pub</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.set_p_bound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.set_p_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Set bounds on parameter variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>plb</strong> – ndarray, (dimp,) lower bounds on parameter variables.</li>
<li><strong>pub</strong> – ndarray, (dimp,) upper bounds on parameter variables.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.set_t0_tf">
<code class="descname">set_t0_tf</code><span class="sig-paren">(</span><em>t0</em>, <em>tf</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.set_t0_tf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.set_t0_tf" title="Permalink to this definition">¶</a></dt>
<dd><p>Set t0 and tf.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>t0</strong> – float/ndarray (2,) allowable t0</li>
<li><strong>tf</strong> – float/ndarray (2,) allowable tf</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.set_u_bound">
<code class="descname">set_u_bound</code><span class="sig-paren">(</span><em>ulb</em>, <em>uub</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.set_u_bound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.set_u_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Set bounds on control variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ulb</strong> – ndarray, (dimu,) lower bounds on control variables.</li>
<li><strong>uub</strong> – ndarray, (dimu,) upper bounds on control variables.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.set_x0_bound">
<code class="descname">set_x0_bound</code><span class="sig-paren">(</span><em>x0lb</em>, <em>x0ub</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.set_x0_bound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.set_x0_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Set bounds on x0. This is optional but useful.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x0lb</strong> – ndarray, (dimx,) lower bounds on x0 variables.</li>
<li><strong>x0ub</strong> – ndarray, (dimx,) upper bounds on x0 variables.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.set_x_bound">
<code class="descname">set_x_bound</code><span class="sig-paren">(</span><em>xlb</em>, <em>xub</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.set_x_bound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.set_x_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Set bounds on state variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>xlb</strong> – ndarray, (dimx,) lower bounds on state variables.</li>
<li><strong>xub</strong> – ndarray, (dimx,) upper bounds on state variables.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.set_xf_bound">
<code class="descname">set_xf_bound</code><span class="sig-paren">(</span><em>xflb</em>, <em>xfub</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.set_xf_bound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem.set_xf_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Set bounds on xf. This is optional but useful.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>xflb</strong> – ndarray, (dimx,) lower bounds on xf variables.</li>
<li><strong>xfub</strong> – ndarray, (dimx,) upper bounds on xf variables.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-trajoptlib.trajOptManifoldCollocationProblem">
<span id="trajoptlib-trajoptmanifoldcollocationproblem-module"></span><h2>trajoptlib.trajOptManifoldCollocationProblem module<a class="headerlink" href="#module-trajoptlib.trajOptManifoldCollocationProblem" title="Permalink to this headline">¶</a></h2>
<p>trajOptManifoldCollocationProblem.py</p>
<p>Direct collocation approach with manifold constraint.
We introduce additional variables to solve this issue.
Here the order of a system is really helpful.
For a constraint phi(q)=0, by order we know up to which we should differentiate the constraints.</p>
<dl class="class">
<dt id="trajoptlib.trajOptManifoldCollocationProblem.ManifoldConstr">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptManifoldCollocationProblem.</code><code class="descname">ManifoldConstr</code><span class="sig-paren">(</span><em>nx</em>, <em>nc</em>, <em>order=2</em>, <em>nG=0</em>, <em>nnzJx=0</em>, <em>nnzJg=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptManifoldCollocationProblem.html#ManifoldConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptManifoldCollocationProblem.ManifoldConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>An object which defines state manifold constraints. We might need other ugly hacks.</p>
<p>Update 1, remove support for constr_order, only allow holonomic constraint, i.e. q
However, user is allowed to control to any level, position / velocity / acceleration level.
For different daeOrder, the implementation is slightly different</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Currentmodule:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="trajoptlib.trajOptManifoldCollocationProblem.ManifoldConstr.__callg__">
<code class="descname">__callg__</code><span class="sig-paren">(</span><em>x</em>, <em>F</em>, <em>G</em>, <em>row</em>, <em>col</em>, <em>rec</em>, <em>needg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptManifoldCollocationProblem.html#ManifoldConstr.__callg__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptManifoldCollocationProblem.ManifoldConstr.__callg__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constraint evaluation up to order with no correction.</p>
<p>This function serves as a basic path constraint imposed on every knot point
It is different from nonLinearPointConstr in the following:
1. It is autonomous and time is not considered
2. Only state variables are passed in, no u or p is used</p>
<p>x : ndarray, the state variables including q, dq, ddq, etc
gamma : ndarray, the correction term
F : ndarray, it stores the calculation values
G, row, col : ndarray, the triplet for Jacobian return
rec, needg : control if G is calculated and row, col are modified</p>
<p>This subroutine has no return.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptManifoldCollocationProblem.ManifoldConstr.__calc_correction__">
<code class="descname">__calc_correction__</code><span class="sig-paren">(</span><em>x</em>, <em>gamma</em>, <em>y</em>, <em>Gq</em>, <em>rowq</em>, <em>colq</em>, <em>Gg</em>, <em>rowg</em>, <em>colg</em>, <em>rec</em>, <em>needg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptManifoldCollocationProblem.html#ManifoldConstr.__calc_correction__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptManifoldCollocationProblem.ManifoldConstr.__calc_correction__" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the correction term</p>
<p>It calculate J(qc)^T gamma, and the sparse Jacobians associated with it</p>
<p>x : array-like, q, dq, ddq, etc
gamma : array-like, the correction vector gamma
y : array-like, the function calculation value, it is essentially J(qc)^T gamma
Gq, rowq, colq : array-like, store the Jacobian of correction term w.r.t. x
Gg, rowg, colg : array-like, store the Jacobian of correction term w.r.t. gamma
rec : if we record row and column information
needg : if we calculate G</p>
<p>Calculations are done in-place so no return is required.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptManifoldCollocationProblem.TrajOptManifoldCollocProblem">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptManifoldCollocationProblem.</code><code class="descname">TrajOptManifoldCollocProblem</code><span class="sig-paren">(</span><em>sys</em>, <em>N</em>, <em>t0</em>, <em>tf</em>, <em>man_constr</em>, <em>addx=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptManifoldCollocationProblem.html#TrajOptManifoldCollocProblem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptManifoldCollocationProblem.TrajOptManifoldCollocProblem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem" title="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem</span></code></a></p>
<p>A class for solving state equality constrained problem.</p>
<p>The difference between this class with trajOptCollocProblem is</p>
<ol class="arabic simple">
<li>This class directly handles state constrained problem</li>
<li>This class introduce additional variables at collocation points and change deflect constraints</li>
<li>Additional parameters are linearly interpolated previously, now we let it unconstrained. This is in fact the same with adding</li>
<li>How variables are arranged are different</li>
<li>The state constraints should be defined using a special class which returns higher order time derivatives</li>
</ol>
<p>The optimization variables are arranged by
1. Trajectory region, (2*N - 1) * [q, dq, ddq, …, u, p]
2. t0 and tf region, it might be empty
3. addX region, of length lenAddX
4. gamma region, of length (N-1) * (man_constr.nf)
5. Auxiliary objective region</p>
<dl class="method">
<dt id="trajoptlib.trajOptManifoldCollocationProblem.TrajOptManifoldCollocProblem.getGammaIndexByIndex">
<code class="descname">getGammaIndexByIndex</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptManifoldCollocationProblem.html#TrajOptManifoldCollocProblem.getGammaIndexByIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptManifoldCollocationProblem.TrajOptManifoldCollocProblem.getGammaIndexByIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the index of gamma by its index.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptManifoldCollocationProblem.TrajOptManifoldCollocProblem.parseF">
<code class="descname">parseF</code><span class="sig-paren">(</span><em>guess</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptManifoldCollocationProblem.html#TrajOptManifoldCollocProblem.parseF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptManifoldCollocationProblem.TrajOptManifoldCollocProblem.parseF" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">trajOptLib.TrajOptManifoldCollocProblem.parse_f()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptManifoldCollocationProblem.TrajOptManifoldCollocProblem.parse_f">
<code class="descname">parse_f</code><span class="sig-paren">(</span><em>guess</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptManifoldCollocationProblem.html#TrajOptManifoldCollocProblem.parse_f"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptManifoldCollocationProblem.TrajOptManifoldCollocProblem.parse_f" title="Permalink to this definition">¶</a></dt>
<dd><p>Give an guess, evaluate it and parse into parts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>guess</strong> – ndarray, (numSol, ) a guess or a solution to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict, containing objective and parsed constraints</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptManifoldCollocationProblem.TrajOptManifoldCollocProblem.pre_process">
<code class="descname">pre_process</code><span class="sig-paren">(</span><em>defect_u=True</em>, <em>defect_p=False</em>, <em>gamma_bound=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptManifoldCollocationProblem.html#TrajOptManifoldCollocProblem.pre_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptManifoldCollocationProblem.TrajOptManifoldCollocProblem.pre_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the problem, allocating spaces.</p>
<p>Compared with trajOptCollocProblem, it has new sets of variables, different constraints.
It supports limitation of magnitude of gamma, as gamma_bound means.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-trajoptlib.trajOptMultiPhaseCollocationProblem">
<span id="trajoptlib-trajoptmultiphasecollocationproblem-module"></span><h2>trajoptlib.trajOptMultiPhaseCollocationProblem module<a class="headerlink" href="#module-trajoptlib.trajOptMultiPhaseCollocationProblem" title="Permalink to this headline">¶</a></h2>
<p>trajOptMultiPhaseCollocationProblem.py</p>
<p>This class implements methods for solving problem with multiple phases.
I will also change code style to suppress those warnings.</p>
<dl class="class">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.LinearConnectConstr">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptMultiPhaseCollocationProblem.</code><code class="descname">LinearConnectConstr</code><span class="sig-paren">(</span><em>phase1</em>, <em>phase2</em>, <em>a1</em>, <em>a2</em>, <em>lb=None</em>, <em>ub=None</em>, <em>index1=-1</em>, <em>index2=0</em>, <em>adda=None</em>, <em>addx_index=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#LinearConnectConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.LinearConnectConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for defining linear constraint functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Currentmodule:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.LinearConnectConstr.find_time_gradient">
<code class="descname">find_time_gradient</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#LinearConnectConstr.find_time_gradient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.LinearConnectConstr.find_time_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>For a matrix, find column 0 indice.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.NonLinearConnectConstr">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptMultiPhaseCollocationProblem.</code><code class="descname">NonLinearConnectConstr</code><span class="sig-paren">(</span><em>phase1</em>, <em>phase2</em>, <em>nc</em>, <em>lb=None</em>, <em>ub=None</em>, <em>nG=None</em>, <em>index1=-1</em>, <em>index2=0</em>, <em>addx_index=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#NonLinearConnectConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.NonLinearConnectConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for defining point constraint function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Currentmodule:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.NonLinearConnectConstr.__callg__">
<code class="descname">__callg__</code><span class="sig-paren">(</span><em>x1</em>, <em>x2</em>, <em>F</em>, <em>G</em>, <em>row</em>, <em>col</em>, <em>rec</em>, <em>needg</em>, <em>addx=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#NonLinearConnectConstr.__callg__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.NonLinearConnectConstr.__callg__" title="Permalink to this definition">¶</a></dt>
<dd><p>Call and evaluate the constraint function. x1 and x2 are points in phase 1 and phase 2.</p>
<p>I return them together in G, row, col since it might be derived from sympy so thay are together.
But, human derived formulas love the previous one better</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.NonLinearConnectConstr.find_time_gradient">
<code class="descname">find_time_gradient</code><span class="sig-paren">(</span><em>x1</em>, <em>x2</em>, <em>addx=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#NonLinearConnectConstr.find_time_gradient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.NonLinearConnectConstr.find_time_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>Find where the gradients are w.r.t time.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptMultiPhaseCollocationProblem.</code><code class="descname">TrajOptMultiPhaseCollocProblem</code><span class="sig-paren">(</span><em>probs</em>, <em>addx=None</em>, <em>process_args={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pyoptsolver.pyoptsolvercpp.OptProblem</span></code></p>
<p>A class for definition of trajectory optimization problem using collocation constraints with support for phase transition.</p>
<p>The support of multiple phase is implemented by calling functions defined in trajOptCollocProblem since I do not want to reinvent the wheels.
I can conveniently add support for other constraints that connects two phases.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Currentmodule:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_addx_constr">
<code class="descname">add_addx_constr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_addx_constr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_addx_constr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a linear or nonlinear constraint associated with addx.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – a point constraint.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_addx_obj">
<code class="descname">add_addx_obj</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_addx_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_addx_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an objective evaluated at addx to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obj</strong> – a point objective object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_connect_constr">
<code class="descname">add_connect_constr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_connect_constr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_connect_constr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a linear constraint that connects two phases.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – a connect constraint object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_connect_linear_constr">
<code class="descname">add_connect_linear_constr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_connect_linear_constr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_connect_linear_constr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a linear connection constraint to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – a LinearConnectConstr object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_connect_nonlinear_constr">
<code class="descname">add_connect_nonlinear_constr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_connect_nonlinear_constr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_connect_nonlinear_constr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a nonlinear connect constraint to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – a NonLinearConnectConstr object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_constr">
<code class="descname">add_constr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_constr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_constr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a constraint to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – a general constraint function object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_nonlinear_constr">
<code class="descname">add_nonlinear_constr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_nonlinear_constr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_nonlinear_constr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a general nonlinear constraint to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – a nonLinearConstr object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_nonlinear_obj">
<code class="descname">add_nonlinear_obj</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_nonlinear_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_nonlinear_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a nonlinear objective to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obj</strong> – a nonLinearObj object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_obj">
<code class="descname">add_obj</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.add_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a objective function to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obj</strong> – a general objective function object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.change_connect_time_constr_bound">
<code class="descname">change_connect_time_constr_bound</code><span class="sig-paren">(</span><em>num</em>, <em>xl</em>, <em>xu</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.change_connect_time_constr_bound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.change_connect_time_constr_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the connect time constraint if other specification are required.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.guess_gen_from_phase_sol">
<code class="descname">guess_gen_from_phase_sol</code><span class="sig-paren">(</span><em>phase_sols</em>, <em>addX=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.guess_gen_from_phase_sol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.guess_gen_from_phase_sol" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an initial guess for the multi-phase problem by concatenating solutions from single phases.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>phase_sols</strong> – list of dict, a list of guess of solutions to each phase</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.guess_gen_from_phase_traj">
<code class="descname">guess_gen_from_phase_traj</code><span class="sig-paren">(</span><em>X=None</em>, <em>U=None</em>, <em>P=None</em>, <em>t0=None</em>, <em>tf=None</em>, <em>addx=None</em>, <em>tstamp=None</em>, <em>obj=None</em>, <em>addX=None</em>, <em>interp_kind='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.guess_gen_from_phase_traj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.guess_gen_from_phase_traj" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a guess from the trajectory in other phases.</p>
<p>The parameters are the same with .. py:classmethod::<cite>trajOptCollocation.genGuessFromTraj</cite> but a list version.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.parse_f">
<code class="descname">parse_f</code><span class="sig-paren">(</span><em>sol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.parse_f"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.parse_f" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the solution and evaluate on all constraints.
Check which are active and analyze why we are not converging.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sol</strong> – ndarray, the solution we want to analyze</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.parse_sol">
<code class="descname">parse_sol</code><span class="sig-paren">(</span><em>sol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.parse_sol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.parse_sol" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a solution, we parse and return readable data structure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sol</strong> – ndarray or result object returned by SNOPT.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return traj:</th><td class="field-body">a dict of keys ‘t’, ‘x’, ‘u’, ‘p’, ‘phases’.</td>
</tr>
</tbody>
</table>
<ul class="simple">
<li>‘t’ is a concatenated time grid (might not be equidistant, but piecewise equidistant</li>
<li>‘x’ ndarray, (*, dimx) is the concatenated state vector of all phases</li>
<li>‘u’ ndarray, (*, dimu) is the concatenated control vector of all phases</li>
<li>‘p’ ndarray, (*, dimp) is the concatenated parameter vector of all phases</li>
<li>‘phases’ list of dictionaries composed of keys ‘t’, ‘x’, ‘u’, ‘p’, ‘addx’ where ‘addx’ is additional optimization variables.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.pre_process">
<code class="descname">pre_process</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.pre_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.pre_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the instances of probFun now we are ready.</p>
<p>Call this function after the objectives and constraints have been set appropriately.
It calculate the space required for SNOPT and allocates sparsity structure if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.random_gen_x">
<code class="descname">random_gen_x</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.random_gen_x"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptMultiPhaseCollocationProblem.TrajOptMultiPhaseCollocProblem.random_gen_x" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a random guess to the problem.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-trajoptlib.trajOptProblem">
<span id="trajoptlib-trajoptproblem-module"></span><h2>trajoptlib.trajOptProblem module<a class="headerlink" href="#module-trajoptlib.trajOptProblem" title="Permalink to this headline">¶</a></h2>
<p>trajOptProblem.py</p>
<p>Class for describing the trajectory optimization problems.</p>
<dl class="class">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem">
<em class="property">class </em><code class="descclassname">trajoptlib.trajOptProblem.</code><code class="descname">TrajOptProblem</code><span class="sig-paren">(</span><em>sys</em>, <em>N</em>, <em>t0</em>, <em>tf</em>, <em>gradmode=True</em>, <em>addx=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pyoptsolver.pyoptsolvercpp.OptProblem</span></code></p>
<p>A class for definition of trajectory optimization problem.</p>
<p>A general framework for using this class is to:</p>
<ol class="arabic simple">
<li>Define a class inherited from system and write dyn/jac_dyn method.</li>
<li>Optionally, write desired cost function by inheriting/creating from the list of available cost functions.</li>
<li>Optionally, write desired constraint functions by inheriting from available constraints.</li>
<li>Create this class with selected system, discretization, t0, tf range, gradient option</li>
<li>Set bounds for state, control, parameters, x0 and xf</li>
<li>Add objective functions and constraints to this class</li>
<li>Call preProcess method explicitly</li>
<li>Create snoptConfig instance and choose desired options</li>
<li>Construct the solver</li>
<li>Use the solver to solve with either automatic guess or user provided guess</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Currentmodule:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.addConstr">
<code class="descname">addConstr</code><span class="sig-paren">(</span><em>constr</em>, <em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.addConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">add_constr()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.addLQRObj">
<code class="descname">addLQRObj</code><span class="sig-paren">(</span><em>lqrobj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addLQRObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.addLQRObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">add_lqr_obj()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.addLinearConstr">
<code class="descname">addLinearConstr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addLinearConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.addLinearConstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.addLinearObj">
<code class="descname">addLinearObj</code><span class="sig-paren">(</span><em>linObj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addLinearObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.addLinearObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add linear objective function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>linObj</strong> – linearObj class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.addLinearPointConstr">
<code class="descname">addLinearPointConstr</code><span class="sig-paren">(</span><em>constr</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addLinearPointConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.addLinearPointConstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.addLinearPointObj">
<code class="descname">addLinearPointObj</code><span class="sig-paren">(</span><em>linPointObj</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addLinearPointObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.addLinearPointObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add linear point objective function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>linPointObj</strong> – linearPointObj class</li>
<li><strong>path</strong> – bool, if this is path obj (at every point except for final one)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.addNonLinearConstr">
<code class="descname">addNonLinearConstr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addNonLinearConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.addNonLinearConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a general nonlinear constraint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – nonLinConstr class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.addNonLinearObj">
<code class="descname">addNonLinearObj</code><span class="sig-paren">(</span><em>nonlinObj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addNonLinearObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.addNonLinearObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add nonlinear objective function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nonLinObj</strong> – a nonLinObj class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.addNonLinearPointConstr">
<code class="descname">addNonLinearPointConstr</code><span class="sig-paren">(</span><em>pntConstr</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addNonLinearPointConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.addNonLinearPointConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add point constraint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pntConstr</strong> – pointConstr class</li>
<li><strong>path</strong> – bool, if this obj</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.addNonLinearPointObj">
<code class="descname">addNonLinearPointObj</code><span class="sig-paren">(</span><em>nonPntObj</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addNonLinearPointObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.addNonLinearPointObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add nonlinear point objective.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nonPntObj</strong> – nonLinObj class</li>
<li><strong>path</strong> – bool, if this obj is pointwise</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.addObj">
<code class="descname">addObj</code><span class="sig-paren">(</span><em>obj</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.addObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">add_obj()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.add_constr">
<code class="descname">add_constr</code><span class="sig-paren">(</span><em>constr</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.add_constr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.add_constr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a constraint to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – a constraint object, can be LinearConstr/LinearPointConstr/NonLinearConstr/NonLinearPointConstr</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.add_lqr_obj">
<code class="descname">add_lqr_obj</code><span class="sig-paren">(</span><em>lqrobj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.add_lqr_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.add_lqr_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a lqr objective function to the problem. It changes lqrObj into a function being called in two modes…</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lqrobj</strong> – a lqrObj class.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.add_obj">
<code class="descname">add_obj</code><span class="sig-paren">(</span><em>obj</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.add_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.add_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>A high level function that add objective function of any kind.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>obj</strong> – an objective instance, can be LinearObj/LinearPointObj/NonLinearObj/NonLinearPointObj, LqrObj</li>
<li><strong>path</strong> – bool, indicating if the constraint is path constraint.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.genGuessFromTraj">
<code class="descname">genGuessFromTraj</code><span class="sig-paren">(</span><em>X=None</em>, <em>U=None</em>, <em>P=None</em>, <em>t0=None</em>, <em>tf=None</em>, <em>addx=None</em>, <em>tstamp=None</em>, <em>obj=None</em>, <em>interp_kind='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.genGuessFromTraj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.genGuessFromTraj" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for gen_guess_from_traj</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.gen_guess_from_traj">
<code class="descname">gen_guess_from_traj</code><span class="sig-paren">(</span><em>X=None</em>, <em>U=None</em>, <em>P=None</em>, <em>t0=None</em>, <em>tf=None</em>, <em>addx=None</em>, <em>tstamp=None</em>, <em>obj=None</em>, <em>interp_kind='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.gen_guess_from_traj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.gen_guess_from_traj" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an initial guess for the problem with user specified information.</p>
<p>An amazing feature is the user does not have to give a solution of exactly the same time-stamped trajectory used internally.
Interpolation approaches are used in such scenarios.
The user is not required to provide them all, although we suggest they do so.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X</strong> – ndarray, (x, x) each row corresponds to a state snapshot (if tstamp is None, assume equidistant grid). Column size can be dimx or dimx/sys.order</li>
<li><strong>U</strong> – ndarray, (x, dimu) each row corresponds to a control snapshot. Similar to X but with column size equals dimu</li>
<li><strong>P</strong> – ndarray, (x, dimp) each row corresponds to a parameter snapshot. Similar to X but with column size equals dimp</li>
<li><strong>t0/tf</strong> – float/array-like, initial/final time. If None, we randomly generate one</li>
<li><strong>addx</strong> – list of ndarray, guess of addx, if applicable</li>
<li><strong>tstamp</strong> – ndarray, (x,), None if the X/U/P are provided using equidistant grid.</li>
<li><strong>obj</strong> – ndarray, (x,) the objective part</li>
<li><strong>interp_kind</strong> – str, interpolation type for scipy.interpolate.interp1d, can be (‘linear’, ‘nearest’, ‘zero’, ‘slinear’, ‘quadratic’, ‘cubic’)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.parseF">
<code class="descname">parseF</code><span class="sig-paren">(</span><em>guess</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.parseF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.parseF" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">parse_f()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.parseSol">
<code class="descname">parseSol</code><span class="sig-paren">(</span><em>sol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.parseSol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.parseSol" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">parse_sol()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.parse_f">
<code class="descname">parse_f</code><span class="sig-paren">(</span><em>guess</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.parse_f"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.parse_f" title="Permalink to this definition">¶</a></dt>
<dd><p>Give an guess, evaluate it and parse into parts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>guess</strong> – ndarray, (numSol, ) a guess or a solution to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict, containing objective and parsed constraints</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.parse_sol">
<code class="descname">parse_sol</code><span class="sig-paren">(</span><em>sol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.parse_sol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.parse_sol" title="Permalink to this definition">¶</a></dt>
<dd><p>Call parseX function from utility and return a dict of solution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sol</strong> – ndarray, the solution.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.plot_jacobian">
<code class="descname">plot_jacobian</code><span class="sig-paren">(</span><em>savefnm=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.plot_jacobian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.plot_jacobian" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the jacobian pattern of this problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>savefnm</strong> – str, the filename to save pattern into. If none, no figure is saved.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.preProcess">
<code class="descname">preProcess</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.preProcess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.preProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for pre_process</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.pre_process">
<code class="descname">pre_process</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.pre_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.pre_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the instances of probFun now we are ready.</p>
<p>Call this function after the objectives and constraints have been set appropriately.
It calculate the space required for SNOPT and allocates sparsity structure if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.randomGenX">
<code class="descname">randomGenX</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.randomGenX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.randomGenX" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <a class="reference internal" href="#trajoptlib.TrajOptProblem.random_gen_guess" title="trajoptlib.TrajOptProblem.random_gen_guess"><code class="xref py py-func docutils literal notranslate"><span class="pre">random_gen_guess()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.random_gen_guess">
<code class="descname">random_gen_guess</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.random_gen_guess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.random_gen_guess" title="Permalink to this definition">¶</a></dt>
<dd><p>A more reansonable approach to generate random guess for the problem.</p>
<p>It considers bounds on initial and final states so this is satisfied.
Then it linearly interpolate between states.
Controls are randomly generated within control bound, if it presents. Otherwise [-1, 1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return x:</th><td class="field-body">ndarray, (numSol, ) an initial guess of the solution</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.set_N">
<code class="descname">set_N</code><span class="sig-paren">(</span><em>N</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.set_N"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.set_N" title="Permalink to this definition">¶</a></dt>
<dd><p>Set N.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>N</strong> – the size of discretization.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.trajOptProblem.TrajOptProblem.set_t0_tf">
<code class="descname">set_t0_tf</code><span class="sig-paren">(</span><em>t0</em>, <em>tf</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.set_t0_tf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.trajOptProblem.TrajOptProblem.set_t0_tf" title="Permalink to this definition">¶</a></dt>
<dd><p>Set t0 and tf.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>t0</strong> – float/ndarray (2,) allowable t0</li>
<li><strong>tf</strong> – float/ndarray (2,) allowable tf</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-trajoptlib.utility">
<span id="trajoptlib-utility-module"></span><h2>trajoptlib.utility module<a class="headerlink" href="#module-trajoptlib.utility" title="Permalink to this headline">¶</a></h2>
<p>utility.py</p>
<p>Collection of utility functions such as solution parsing and showing.</p>
<dl class="class">
<dt id="trajoptlib.utility.InfBuilder">
<em class="property">class </em><code class="descclassname">trajoptlib.utility.</code><code class="descname">InfBuilder</code><span class="sig-paren">(</span><em>n=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/utility.html#InfBuilder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.utility.InfBuilder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class to help us return infinity</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.utility.OneBuilder">
<em class="property">class </em><code class="descclassname">trajoptlib.utility.</code><code class="descname">OneBuilder</code><span class="sig-paren">(</span><em>n=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/utility.html#OneBuilder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.utility.OneBuilder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class to return array of 1</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.utility.ZeroBuilder">
<em class="property">class </em><code class="descclassname">trajoptlib.utility.</code><code class="descname">ZeroBuilder</code><span class="sig-paren">(</span><em>n=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/utility.html#ZeroBuilder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.utility.ZeroBuilder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class to return array of 1</p>
</dd></dl>

<dl class="function">
<dt id="trajoptlib.utility.check_in_bounds">
<code class="descclassname">trajoptlib.utility.</code><code class="descname">check_in_bounds</code><span class="sig-paren">(</span><em>x</em>, <em>bds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/utility.html#check_in_bounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.utility.check_in_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the position of variables in a bound.</p>
<p>Basically, it returns the position of actual value in the bounds [-1, 1].
If both sides are bounded, it simply calculate this value.
If one side is bounded, it check if value if within certain threshold with the bound
Unbounded variables shall always return 0, the same applies to equality-bounded variables.</p>
</dd></dl>

<dl class="function">
<dt id="trajoptlib.utility.get_inf">
<code class="descclassname">trajoptlib.utility.</code><code class="descname">get_inf</code><span class="sig-paren">(</span><em>n=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/utility.html#get_inf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.utility.get_inf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an inf array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> – int, size of the array to return, None means scalar</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns y:</th><td class="field-body">the scalar inf or array of inf</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="trajoptlib.utility.interp">
<code class="descclassname">trajoptlib.utility.</code><code class="descname">interp</code><span class="sig-paren">(</span><em>t</em>, <em>X</em>, <em>teval</em>, <em>Xeval</em>, <em>kind</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/utility.html#interp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.utility.interp" title="Permalink to this definition">¶</a></dt>
<dd><p>Do interpolation on previous calculated solution.</p>
<p>It handles case when t is None, in which case, teval is not used and we use a uniform grid in [0, 1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>t</strong> – array-like, user-specified time stamps</li>
<li><strong>X</strong> – ndarray, (x, x), variable to be interpolated</li>
<li><strong>teval</strong> – array-like, where to evaluate for the interpolation</li>
<li><strong>Xeval</strong> – ndarray, (x, x), where to store the evaluation. It might has more columns than X, in which case we fill higher-order derivative</li>
<li><strong>kind</strong> – str, interpolation type for scipy.interpolate.interp1d, can be (‘linear’, ‘nearest’, ‘zero’, ‘slinear’, ‘quadratic’, ‘cubic’)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="trajoptlib.utility.parse_X">
<code class="descclassname">trajoptlib.utility.</code><code class="descname">parse_X</code><span class="sig-paren">(</span><em>x</em>, <em>N</em>, <em>dimx</em>, <em>dimu</em>, <em>dimp</em>, <em>uset0</em>, <em>usetf</em>, <em>setfinal=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/utility.html#parse_X"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.utility.parse_X" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the solution into a dict of time, state, control, parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> – ndarray, solution found by SNOPT</li>
<li><strong>dimx</strong><strong>, </strong><strong>dimu</strong><strong>, </strong><strong>dimp</strong> (<em>N</em><em>,</em>) – discretization of the problem</li>
<li><strong>usetf</strong> (<em>uset0</em><em>,</em>) – float/array like, specification of initial and final time</li>
<li><strong>setfinal</strong> – if we set the final element of u/p the same with second last</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a dictionary of keys ‘t’, ‘x’, ‘u’, ‘p’</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="trajoptlib.utility.random_gen_in_bound">
<code class="descclassname">trajoptlib.utility.</code><code class="descname">random_gen_in_bound</code><span class="sig-paren">(</span><em>bds</em>, <em>n=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/utility.html#random_gen_in_bound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.utility.random_gen_in_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly generate a vector within bounds / [-1, 1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bds</strong> – list/tuple of ndarray, the bounds of variable</li>
<li><strong>n</strong> – if bds are None, this is for determining size of vector</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return x:</th><td class="field-body"><p class="first last">ndarray, the random generated variable</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="trajoptlib.utility.show_sol">
<code class="descclassname">trajoptlib.utility.</code><code class="descname">show_sol</code><span class="sig-paren">(</span><em>solDict</em>, <em>xsplit=None</em>, <em>usplit=None</em>, <em>psplit=None</em>, <em>show=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/utility.html#show_sol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.utility.show_sol" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the parsed solution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>solDict</strong> – dict, returned from solParse; or a list of such dict. Then they are compared</li>
<li><strong>xsplit</strong> – if state space is large, this splits it into several images it’s a list of int like (3, 6). None means no split</li>
<li><strong>usplit</strong> – similar to xsplit, apply for control</li>
<li><strong>psplit</strong> – similar to xsplit, apply for parameter</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-trajoptlib">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-trajoptlib" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="trajoptlib.System">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">System</code><span class="sig-paren">(</span><em>nx</em>, <em>nu</em>, <em>np=0</em>, <em>ode='Euler'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#System"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.System" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Description of the dynamical system.</p>
<p>To define a dynamical system, we need to specify dimension of state, control, and parameter.
Optionally, integration approach can be selected.
This function should be inherited and users are supposed to override dyn/jac_dyn functions.</p>
<dl class="method">
<dt id="trajoptlib.System.dyn">
<code class="descname">dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p=None</em>, <em>h=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#System.dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.System.dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamics function without gradient information.</p>
<p>It has to be overriden.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>t</strong> – float, time when evaluating system dynamics</li>
<li><strong>x</strong> – np.ndarray, (nx,) state variable</li>
<li><strong>u</strong> – np.ndarray, (nu,) control variable</li>
<li><strong>p</strong> – np.ndarray, (np,) additional optimizing variable</li>
<li><strong>h</strong> – float, used for discretized system. Integration step size</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">either dotx or x_k+1 depends on system type</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.System.jac_dyn">
<code class="descname">jac_dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p=None</em>, <em>h=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#System.jac_dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.System.jac_dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamics function with Jacobian return.</p>
<p>It has to be overriden.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong><strong>, </strong><strong>u</strong><strong>, </strong><strong>p</strong><strong>, </strong><strong>h</strong> (<em>t</em><em>,</em>) – see dyn</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">y: ndarray, either dotx or x_k+1</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">J: ndarray/spmatrix, returning Jacobian of this function evaluation</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="trajoptlib.System.odes">
<code class="descname">odes</code><em class="property"> = ['RK4', 'Dis', 'Euler', 'BackEuler']</em><a class="headerlink" href="#trajoptlib.System.odes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="trajoptlib.System.set_ode">
<code class="descname">set_ode</code><span class="sig-paren">(</span><em>method</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#System.set_ode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.System.set_ode" title="Permalink to this definition">¶</a></dt>
<dd><p>Set ode approach.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>method</strong> – str, name of ode approach.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.DaeSystem">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">DaeSystem</code><span class="sig-paren">(</span><em>nx</em>, <em>nu</em>, <em>np</em>, <em>nf</em>, <em>nG</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#DaeSystem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.DaeSystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A DAE system.</p>
<dl class="method">
<dt id="trajoptlib.DaeSystem.dyn">
<code class="descname">dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p</em>, <em>y</em>, <em>G</em>, <em>row</em>, <em>col</em>, <em>rec</em>, <em>needg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#DaeSystem.dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.DaeSystem.dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of system dynamics expressed in a dae.</p>
<p>It evaluates system dynamics like f(t, q, dq, ddq, p, u) = 0 and calculate gradients if necessary.
:param t: float, time of evaluation
:param x: ndarray, (nx,) state variable, it might contain q, dq, ddq or in more general case q and dq.
:param u: ndarray, (nu,) control variable
:param p: ndarray, (np,) parameter used such as reaction force from ground
:param y: ndarray, (nq,) this constraint function. It is evaluated here.
:param G, row, col: ndarray, (nG,) gradient of this constraints, row and col index
:param rec: bool, if we need to write row and col
:param needg: bool, if we have to evaluate gradients.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.DaeSystem.findTimeGradient">
<code class="descname">findTimeGradient</code><span class="sig-paren">(</span><em>catx</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#DaeSystem.findTimeGradient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.DaeSystem.findTimeGradient" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect if gradient is time related.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.BaseFun">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">BaseFun</code><span class="sig-paren">(</span><em>nx</em>, <em>nf</em>, <em>gradmode</em>, <em>ng=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#BaseFun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.BaseFun" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Base class for functions, including both objective and constraint.</p>
<p>This function should be inherited to define your own functions.
A function with user supplied gradient information, nx, nf, ng should be set.</p>
<dl class="method">
<dt id="trajoptlib.BaseFun.findTimeGradient">
<code class="descname">findTimeGradient</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#BaseFun.findTimeGradient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.BaseFun.findTimeGradient" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="trajoptlib.BaseFun.grad">
<code class="descname">grad</code><em class="property"> = ['user', 'no']</em><a class="headerlink" href="#trajoptlib.BaseFun.grad" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.AddX">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">AddX</code><span class="sig-paren">(</span><em>n</em>, <em>lb=None</em>, <em>ub=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#AddX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.AddX" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A description of additional optimizing parameter.</p>
<p>It is intended to be used if the optimal control has like point constraint.
In this class the user has to supply the size and bounds of those variables.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.LqrObj">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">LqrObj</code><span class="sig-paren">(</span><em>F=None</em>, <em>Q=None</em>, <em>R=None</em>, <em>xfbase=None</em>, <em>xbase=None</em>, <em>ubase=None</em>, <em>tfweight=None</em>, <em>P=None</em>, <em>pbase=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#LqrObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.LqrObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for LQR objective since it is so common. It is treated independently with pathObj.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.LinearPointObj">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">LinearPointObj</code><span class="sig-paren">(</span><em>index</em>, <em>A</em>, <em>nx</em>, <em>nu</em>, <em>np_</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#LinearPointObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.LinearPointObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase._objectWithMatrix</span></code></p>
<p>Class for directly add linear objective function over the entire decision variable.</p>
<p>It serves for objective function of the form <span class="math notranslate nohighlight">\(y=Ax\)</span> where <span class="math notranslate nohighlight">\(x\)</span> is the concatenated vector of state,
control and parameter at a selected index.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.NonLinearObj">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">NonLinearObj</code><span class="sig-paren">(</span><em>nsol</em>, <em>gradmode='user'</em>, <em>nG=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#NonLinearObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.NonLinearObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.BaseFun" title="trajoptlib.trajOptBase.BaseFun"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.BaseFun</span></code></a></p>
<p>Class for general nonlinear objective function over the entire decision variables.</p>
<p>The objective function is basically calculated by calling a nonlinear function.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.NonLinearPointObj">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">NonLinearPointObj</code><span class="sig-paren">(</span><em>index</em>, <em>nx</em>, <em>nu</em>, <em>np=0</em>, <em>gradmode='user'</em>, <em>nG=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#NonLinearPointObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.NonLinearPointObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.BaseFun" title="trajoptlib.trajOptBase.BaseFun"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.BaseFun</span></code></a></p>
<p>Class for defining point objective function.</p>
<p>Similar to linear case. A function that takes the concatenated vector at a selected index is used.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.LinearObj">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">LinearObj</code><span class="sig-paren">(</span><em>A</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#LinearObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.LinearObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for directly add linear objective function over the entire decision variable.</p>
<p>It serves for objective of form <span class="math notranslate nohighlight">\(y=Ax\)</span> where <span class="math notranslate nohighlight">\(x\)</span> is the collected long vector.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.NonLinearPointConstr">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">NonLinearPointConstr</code><span class="sig-paren">(</span><em>index</em>, <em>nc</em>, <em>nx</em>, <em>nu</em>, <em>np=0</em>, <em>lb=None</em>, <em>ub=None</em>, <em>gradmode='user'</em>, <em>nG=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#NonLinearPointConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.NonLinearPointConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.BaseFun" title="trajoptlib.trajOptBase.BaseFun"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.BaseFun</span></code></a></p>
<p>Class for defining point constraint function.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.NonLinearConstr">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">NonLinearConstr</code><span class="sig-paren">(</span><em>nsol</em>, <em>nc</em>, <em>lb=None</em>, <em>ub=None</em>, <em>gradmode='user'</em>, <em>nG=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#NonLinearConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.NonLinearConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.BaseFun" title="trajoptlib.trajOptBase.BaseFun"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.BaseFun</span></code></a></p>
<p>Class for defining constraint function in a general form.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.LinearPointConstr">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">LinearPointConstr</code><span class="sig-paren">(</span><em>index</em>, <em>A</em>, <em>lb=None</em>, <em>ub=None</em>, <em>offset=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#LinearPointConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.LinearPointConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase._objectWithMatrix</span></code></p>
<p>Class for linear constraint at selected points.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.LinearConstr">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">LinearConstr</code><span class="sig-paren">(</span><em>A</em>, <em>lb=None</em>, <em>ub=None</em>, <em>offset=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptBase.html#LinearConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.LinearConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for linear constraints based on the whole x length.</p>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.TrajOptProblem">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">TrajOptProblem</code><span class="sig-paren">(</span><em>sys</em>, <em>N</em>, <em>t0</em>, <em>tf</em>, <em>gradmode=True</em>, <em>addx=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pyoptsolver.pyoptsolvercpp.OptProblem</span></code></p>
<p>A class for definition of trajectory optimization problem.</p>
<p>A general framework for using this class is to:</p>
<ol class="arabic simple">
<li>Define a class inherited from system and write dyn/jac_dyn method.</li>
<li>Optionally, write desired cost function by inheriting/creating from the list of available cost functions.</li>
<li>Optionally, write desired constraint functions by inheriting from available constraints.</li>
<li>Create this class with selected system, discretization, t0, tf range, gradient option</li>
<li>Set bounds for state, control, parameters, x0 and xf</li>
<li>Add objective functions and constraints to this class</li>
<li>Call preProcess method explicitly</li>
<li>Create snoptConfig instance and choose desired options</li>
<li>Construct the solver</li>
<li>Use the solver to solve with either automatic guess or user provided guess</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Currentmodule:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="trajoptlib.TrajOptProblem.addConstr">
<code class="descname">addConstr</code><span class="sig-paren">(</span><em>constr</em>, <em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.addConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">add_constr()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.addLQRObj">
<code class="descname">addLQRObj</code><span class="sig-paren">(</span><em>lqrobj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addLQRObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.addLQRObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">add_lqr_obj()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.addLinearConstr">
<code class="descname">addLinearConstr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addLinearConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.addLinearConstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.addLinearObj">
<code class="descname">addLinearObj</code><span class="sig-paren">(</span><em>linObj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addLinearObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.addLinearObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add linear objective function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>linObj</strong> – linearObj class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.addLinearPointConstr">
<code class="descname">addLinearPointConstr</code><span class="sig-paren">(</span><em>constr</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addLinearPointConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.addLinearPointConstr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.addLinearPointObj">
<code class="descname">addLinearPointObj</code><span class="sig-paren">(</span><em>linPointObj</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addLinearPointObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.addLinearPointObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add linear point objective function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>linPointObj</strong> – linearPointObj class</li>
<li><strong>path</strong> – bool, if this is path obj (at every point except for final one)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.addNonLinearConstr">
<code class="descname">addNonLinearConstr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addNonLinearConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.addNonLinearConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a general nonlinear constraint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – nonLinConstr class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.addNonLinearObj">
<code class="descname">addNonLinearObj</code><span class="sig-paren">(</span><em>nonlinObj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addNonLinearObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.addNonLinearObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add nonlinear objective function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nonLinObj</strong> – a nonLinObj class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.addNonLinearPointConstr">
<code class="descname">addNonLinearPointConstr</code><span class="sig-paren">(</span><em>pntConstr</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addNonLinearPointConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.addNonLinearPointConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add point constraint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pntConstr</strong> – pointConstr class</li>
<li><strong>path</strong> – bool, if this obj</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.addNonLinearPointObj">
<code class="descname">addNonLinearPointObj</code><span class="sig-paren">(</span><em>nonPntObj</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addNonLinearPointObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.addNonLinearPointObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add nonlinear point objective.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nonPntObj</strong> – nonLinObj class</li>
<li><strong>path</strong> – bool, if this obj is pointwise</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.addObj">
<code class="descname">addObj</code><span class="sig-paren">(</span><em>obj</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.addObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.addObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">add_obj()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.add_constr">
<code class="descname">add_constr</code><span class="sig-paren">(</span><em>constr</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.add_constr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.add_constr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a constraint to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – a constraint object, can be LinearConstr/LinearPointConstr/NonLinearConstr/NonLinearPointConstr</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.add_lqr_obj">
<code class="descname">add_lqr_obj</code><span class="sig-paren">(</span><em>lqrobj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.add_lqr_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.add_lqr_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a lqr objective function to the problem. It changes lqrObj into a function being called in two modes…</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lqrobj</strong> – a lqrObj class.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.add_obj">
<code class="descname">add_obj</code><span class="sig-paren">(</span><em>obj</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.add_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.add_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>A high level function that add objective function of any kind.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>obj</strong> – an objective instance, can be LinearObj/LinearPointObj/NonLinearObj/NonLinearPointObj, LqrObj</li>
<li><strong>path</strong> – bool, indicating if the constraint is path constraint.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.genGuessFromTraj">
<code class="descname">genGuessFromTraj</code><span class="sig-paren">(</span><em>X=None</em>, <em>U=None</em>, <em>P=None</em>, <em>t0=None</em>, <em>tf=None</em>, <em>addx=None</em>, <em>tstamp=None</em>, <em>obj=None</em>, <em>interp_kind='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.genGuessFromTraj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.genGuessFromTraj" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for gen_guess_from_traj</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.gen_guess_from_traj">
<code class="descname">gen_guess_from_traj</code><span class="sig-paren">(</span><em>X=None</em>, <em>U=None</em>, <em>P=None</em>, <em>t0=None</em>, <em>tf=None</em>, <em>addx=None</em>, <em>tstamp=None</em>, <em>obj=None</em>, <em>interp_kind='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.gen_guess_from_traj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.gen_guess_from_traj" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an initial guess for the problem with user specified information.</p>
<p>An amazing feature is the user does not have to give a solution of exactly the same time-stamped trajectory used internally.
Interpolation approaches are used in such scenarios.
The user is not required to provide them all, although we suggest they do so.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X</strong> – ndarray, (x, x) each row corresponds to a state snapshot (if tstamp is None, assume equidistant grid). Column size can be dimx or dimx/sys.order</li>
<li><strong>U</strong> – ndarray, (x, dimu) each row corresponds to a control snapshot. Similar to X but with column size equals dimu</li>
<li><strong>P</strong> – ndarray, (x, dimp) each row corresponds to a parameter snapshot. Similar to X but with column size equals dimp</li>
<li><strong>t0/tf</strong> – float/array-like, initial/final time. If None, we randomly generate one</li>
<li><strong>addx</strong> – list of ndarray, guess of addx, if applicable</li>
<li><strong>tstamp</strong> – ndarray, (x,), None if the X/U/P are provided using equidistant grid.</li>
<li><strong>obj</strong> – ndarray, (x,) the objective part</li>
<li><strong>interp_kind</strong> – str, interpolation type for scipy.interpolate.interp1d, can be (‘linear’, ‘nearest’, ‘zero’, ‘slinear’, ‘quadratic’, ‘cubic’)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.parseF">
<code class="descname">parseF</code><span class="sig-paren">(</span><em>guess</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.parseF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.parseF" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">parse_f()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.parseSol">
<code class="descname">parseSol</code><span class="sig-paren">(</span><em>sol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.parseSol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.parseSol" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">parse_sol()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.parse_f">
<code class="descname">parse_f</code><span class="sig-paren">(</span><em>guess</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.parse_f"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.parse_f" title="Permalink to this definition">¶</a></dt>
<dd><p>Give an guess, evaluate it and parse into parts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>guess</strong> – ndarray, (numSol, ) a guess or a solution to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict, containing objective and parsed constraints</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.parse_sol">
<code class="descname">parse_sol</code><span class="sig-paren">(</span><em>sol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.parse_sol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.parse_sol" title="Permalink to this definition">¶</a></dt>
<dd><p>Call parseX function from utility and return a dict of solution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sol</strong> – ndarray, the solution.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.plot_jacobian">
<code class="descname">plot_jacobian</code><span class="sig-paren">(</span><em>savefnm=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.plot_jacobian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.plot_jacobian" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the jacobian pattern of this problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>savefnm</strong> – str, the filename to save pattern into. If none, no figure is saved.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.preProcess">
<code class="descname">preProcess</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.preProcess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.preProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for pre_process</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.pre_process">
<code class="descname">pre_process</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.pre_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.pre_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the instances of probFun now we are ready.</p>
<p>Call this function after the objectives and constraints have been set appropriately.
It calculate the space required for SNOPT and allocates sparsity structure if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.randomGenX">
<code class="descname">randomGenX</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.randomGenX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.randomGenX" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <a class="reference internal" href="#trajoptlib.TrajOptProblem.random_gen_guess" title="trajoptlib.TrajOptProblem.random_gen_guess"><code class="xref py py-func docutils literal notranslate"><span class="pre">random_gen_guess()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.random_gen_guess">
<code class="descname">random_gen_guess</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.random_gen_guess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.random_gen_guess" title="Permalink to this definition">¶</a></dt>
<dd><p>A more reansonable approach to generate random guess for the problem.</p>
<p>It considers bounds on initial and final states so this is satisfied.
Then it linearly interpolate between states.
Controls are randomly generated within control bound, if it presents. Otherwise [-1, 1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return x:</th><td class="field-body">ndarray, (numSol, ) an initial guess of the solution</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.set_N">
<code class="descname">set_N</code><span class="sig-paren">(</span><em>N</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.set_N"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.set_N" title="Permalink to this definition">¶</a></dt>
<dd><p>Set N.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>N</strong> – the size of discretization.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptProblem.set_t0_tf">
<code class="descname">set_t0_tf</code><span class="sig-paren">(</span><em>t0</em>, <em>tf</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptProblem.html#TrajOptProblem.set_t0_tf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptProblem.set_t0_tf" title="Permalink to this definition">¶</a></dt>
<dd><p>Set t0 and tf.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>t0</strong> – float/ndarray (2,) allowable t0</li>
<li><strong>tf</strong> – float/ndarray (2,) allowable tf</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.TrajOptCollocProblem">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">TrajOptCollocProblem</code><span class="sig-paren">(</span><em>sys</em>, <em>N</em>, <em>t0</em>, <em>tf</em>, <em>addx=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pyoptsolver.pyoptsolvercpp.OptProblem</span></code></p>
<p>A class for definition of trajectory optimization problem using collocation constraints.</p>
<p>A general framework for using this class is to:</p>
<ol class="arabic simple">
<li>Define a class which implements a DAE system, f(t, x, p, u)=0. This is a typical case for humanoid problem, but also flexible enough for simpler first order system.</li>
<li>Optionally, write desired cost function by subclass/creating from the list of available cost functions. This can be built incrementally by adding pieces.</li>
<li>Optionally, write desired constraint functions by subclass from available constraints. This can be built incrementally by adding pieces. Our approach can correctly detect the Jacobian structure.</li>
<li>Create this class with selected system, discretization, t0, tf range</li>
<li>Set bounds for state, control, parameters, x0 and xf</li>
<li>Add objective functions and constraints to this class</li>
<li>Call preProcess method explicitly</li>
<li>Create snoptConfig instance and choose desired options</li>
<li>Construct the solver</li>
<li>Use the solver to solve with either automatic guess or user provided guess</li>
</ol>
<p>The system dynamics constraints are imposed using direct collocation approach with some additional optimization
variables as suggested by others.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Currentmodule:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.addAddXQuadPenalty">
<code class="descname">addAddXQuadPenalty</code><span class="sig-paren">(</span><em>index</em>, <em>weights</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addAddXQuadPenalty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.addAddXQuadPenalty" title="Permalink to this definition">¶</a></dt>
<dd><p>Add quadratic penalty to addx variables.</p>
<p>The API is slightly different from previous three since we cannot guarantee weights are of the same lenght.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> – int, indices of parameter variables to be penalized.</li>
<li><strong>weights</strong> – float/array-like, weights of penalty</li>
<li><strong>mask</strong> – filter</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.addConstr">
<code class="descname">addConstr</code><span class="sig-paren">(</span><em>constr</em>, <em>path=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.addConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">add_constr()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.addControlQuadPenalty">
<code class="descname">addControlQuadPenalty</code><span class="sig-paren">(</span><em>index</em>, <em>weights</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addControlQuadPenalty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.addControlQuadPenalty" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a quadratic penalty on selected control variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> – int/array-like, indices of control variables to be penalized.</li>
<li><strong>weights</strong> – float/array-like, weights of penalty</li>
<li><strong>mask</strong> – filter to select subset</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.addLQRObj">
<code class="descname">addLQRObj</code><span class="sig-paren">(</span><em>lqrobj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addLQRObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.addLQRObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">trajOptLib.TrajOptCollocProblem.add_lqr_obj()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.addLinearConstr">
<code class="descname">addLinearConstr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addLinearConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.addLinearConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a linear constraint to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – a linearConstr object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.addLinearObj">
<code class="descname">addLinearObj</code><span class="sig-paren">(</span><em>linObj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addLinearObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.addLinearObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add linear objective function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>linObj</strong> – linearObj class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.addLinearPointConstr">
<code class="descname">addLinearPointConstr</code><span class="sig-paren">(</span><em>constr</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addLinearPointConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.addLinearPointConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a linear point constraint to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>constr</strong> – a linearPointConstr object</li>
<li><strong>path</strong> – if this constraint is path constraint</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.addLinearPointObj">
<code class="descname">addLinearPointObj</code><span class="sig-paren">(</span><em>linPointObj</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addLinearPointObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.addLinearPointObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add linear point objective function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>linPointObj</strong> – linearPointObj class</li>
<li><strong>path</strong> – bool, if this is path obj (at every point except for final one)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.addNonLinearConstr">
<code class="descname">addNonLinearConstr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addNonLinearConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.addNonLinearConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a general nonlinear constraint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – nonLinConstr class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.addNonLinearObj">
<code class="descname">addNonLinearObj</code><span class="sig-paren">(</span><em>nonlinObj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addNonLinearObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.addNonLinearObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add nonlinear objective function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>nonLinObj</strong> – a nonLinObj class</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.addNonLinearPointConstr">
<code class="descname">addNonLinearPointConstr</code><span class="sig-paren">(</span><em>pntConstr</em>, <em>path=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addNonLinearPointConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.addNonLinearPointConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add point constraint.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>pntConstr</strong> – pointConstr class</li>
<li><strong>path</strong> – bool, if this obj</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Kwargs:</th><td class="field-body"><p class="first last">additional parameters, users can specify starting and ending indexes by specifying start and end</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.addNonLinearPointObj">
<code class="descname">addNonLinearPointObj</code><span class="sig-paren">(</span><em>nonPntObj</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addNonLinearPointObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.addNonLinearPointObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add nonlinear point objective.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nonPntObj</strong> – nonLinObj class</li>
<li><strong>path</strong> – bool, if this obj is pointwise</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.addObj">
<code class="descname">addObj</code><span class="sig-paren">(</span><em>obj</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.addObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">addObj()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.addParamQuadPenalty">
<code class="descname">addParamQuadPenalty</code><span class="sig-paren">(</span><em>index</em>, <em>weights</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addParamQuadPenalty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.addParamQuadPenalty" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a quadratic penalty on selected parameter variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> – int/array-like, indices of parameter variables to be penalized.</li>
<li><strong>weights</strong> – float/array-like, weights of penalty</li>
<li><strong>mask</strong> – filter of variables</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.addStateQuadPenalty">
<code class="descname">addStateQuadPenalty</code><span class="sig-paren">(</span><em>index</em>, <em>weights</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addStateQuadPenalty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.addStateQuadPenalty" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a quadratic penalty on selected state variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>index</strong> – int/array-like, indices of state variables to be penalized.</li>
<li><strong>weights</strong> – float/array-like, weights of penalty</li>
<li><strong>mask</strong> – mask-like, filter for selecting subset of variables</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.addVanillaQuadPenalty">
<code class="descname">addVanillaQuadPenalty</code><span class="sig-paren">(</span><em>indices</em>, <em>weights</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.addVanillaQuadPenalty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.addVanillaQuadPenalty" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a quadratic penalty term based on indices in the solution vector and weights.</p>
<p>This is dangerous and might cause unexpected trouble unless you are sure indices are correct.
You can always use addStateQuadPenalty/addControlQuadPenalty/addParamQuadPenalty/addAddXQuadPenalty to finish these.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>indices</strong> – indices of variables to be penalized</li>
<li><strong>weights</strong> – float/ndarray weights associated with those variables.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.add_constr">
<code class="descname">add_constr</code><span class="sig-paren">(</span><em>constr</em>, <em>path=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.add_constr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.add_constr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a constraint to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>constr</strong> – a constraint object.</li>
<li><strong>path</strong> – bool, if this constraint is a path constraint. Only applies for point constraint.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.add_lqr_obj">
<code class="descname">add_lqr_obj</code><span class="sig-paren">(</span><em>lqrobj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.add_lqr_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.add_lqr_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a lqr objective function to the problem. It changes lqrObj into a function being called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lqrobj</strong> – a lqrObj class.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.add_obj">
<code class="descname">add_obj</code><span class="sig-paren">(</span><em>obj</em>, <em>path=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.add_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.add_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>A high level function that add objective function of any kind.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>obj</strong> – an objective object.</li>
<li><strong>path</strong> – bool, if the point objective is an integral one.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.genGuessFromSol">
<code class="descname">genGuessFromSol</code><span class="sig-paren">(</span><em>parsed_sol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.genGuessFromSol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.genGuessFromSol" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">gen_guess_from_traj()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.genGuessFromTraj">
<code class="descname">genGuessFromTraj</code><span class="sig-paren">(</span><em>X=None</em>, <em>U=None</em>, <em>P=None</em>, <em>t0=None</em>, <em>tf=None</em>, <em>addx=None</em>, <em>tstamp=None</em>, <em>obj=None</em>, <em>interp_kind='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.genGuessFromTraj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.genGuessFromTraj" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">gen_guess_from_traj()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.gen_guess_from_sol">
<code class="descname">gen_guess_from_sol</code><span class="sig-paren">(</span><em>parsed_sol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.gen_guess_from_sol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.gen_guess_from_sol" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an initial guess from a previous solution. Mainly change grid size or add perturbation. But determining structure is difficult</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parsed_sol</strong> – dictionary, output of calling parse_sol</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.gen_guess_from_traj">
<code class="descname">gen_guess_from_traj</code><span class="sig-paren">(</span><em>X=None</em>, <em>U=None</em>, <em>P=None</em>, <em>t0=None</em>, <em>tf=None</em>, <em>addx=None</em>, <em>tstamp=None</em>, <em>obj=None</em>, <em>interp_kind='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.gen_guess_from_traj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.gen_guess_from_traj" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an initial guess for the problem with user specified information.</p>
<p>An amazing feature is the user does not have to give a solution of exactly the same time-stamped trajectory used internally.
Interpolation approaches are used in such scenarios.
The user is not required to provide them all, although we suggest they do so.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>X</strong> – ndarray, (x, x) each row corresponds to a state snapshot (if tstamp is None, assume equidistant grid). Column size can be dimx or dimx/sys.order</li>
<li><strong>U</strong> – ndarray, (x, dimu) each row corresponds to a control snapshot. Similar to X but with column size equals dimu</li>
<li><strong>P</strong> – ndarray, (x, dimp) each row corresponds to a parameter snapshot. Similar to X but with column size equals dimp</li>
<li><strong>t0/tf</strong> – float/array-like, initial/final time. If None, we randomly generate one</li>
<li><strong>addx</strong> – list of ndarray, guess of addx, if applicable</li>
<li><strong>tstamp</strong> – ndarray, (x,), None if the X/U/P are provided using equidistant grid.</li>
<li><strong>obj</strong> – ndarray, (x,) the objective part</li>
<li><strong>interp_kind</strong> – str, interpolation type for scipy.interpolate.interp1d, can be (‘linear’, ‘nearest’, ‘zero’, ‘slinear’, ‘quadratic’, ‘cubic’)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.getAddXIndexByIndex">
<code class="descname">getAddXIndexByIndex</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.getAddXIndexByIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.getAddXIndexByIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>With i as index of addx, it returns the starting index in solution vector for this one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>i</strong> – int, the index of addX we want to query.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.getContrlIndexByIndex">
<code class="descname">getContrlIndexByIndex</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.getContrlIndexByIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.getContrlIndexByIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>With i as index for control variable, return the starting index in solution vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>i</strong> – int, the index of control we want to query</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.getParamIndexByIndex">
<code class="descname">getParamIndexByIndex</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.getParamIndexByIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.getParamIndexByIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>With i as index for parameter variable, return the starting index in solution vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>i</strong> – int, the index of parameter we want to query</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.getStateIndexByIndex">
<code class="descname">getStateIndexByIndex</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.getStateIndexByIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.getStateIndexByIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>With i as index for state variable, return the starting index in solution vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>i</strong> – int, the index of State we want to query</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.parseF">
<code class="descname">parseF</code><span class="sig-paren">(</span><em>guess</em>, <em>y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.parseF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.parseF" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">parse_f()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.parse_f">
<code class="descname">parse_f</code><span class="sig-paren">(</span><em>guess</em>, <em>y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.parse_f"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.parse_f" title="Permalink to this definition">¶</a></dt>
<dd><p>Give an guess, evaluate it and parse into parts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>guess</strong> – ndarray, (numSol, ) a guess or a solution to check</li>
<li><strong>y</strong> – ndarray, (numF, ) if None, it stores the solution</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">dict, containing objective and parsed constraints</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.parse_sol">
<code class="descname">parse_sol</code><span class="sig-paren">(</span><em>sol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.parse_sol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.parse_sol" title="Permalink to this definition">¶</a></dt>
<dd><p>Call parseX function from utility and return a dict of solution.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.plot_jacobian">
<code class="descname">plot_jacobian</code><span class="sig-paren">(</span><em>savefnm=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.plot_jacobian"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.plot_jacobian" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the jacobian pattern of this problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>savefnm</strong> – str, the filename to save pattern into. If none, no figure is saved.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.pre_process">
<code class="descname">pre_process</code><span class="sig-paren">(</span><em>colloc_constr_is_on=False</em>, <em>defect_u=True</em>, <em>defect_p=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.pre_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.pre_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the instances of probFun now we are ready.</p>
<p>Call this function after the objectives and constraints have been set appropriately.
It calculate the space required for SNOPT and allocates sparsity structure if necessary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>colloc_constr_is_on</strong> – bool, if we also impose constraints on those collocation points.</li>
<li><strong>defect_u</strong> – bool, if we want to impose defect constraint on u, i.e. umid=(u0+uf)/2</li>
<li><strong>defect_p</strong> – bool, if we want to impose defect constraint on p, i.e. pmid=(p0+pf)/2</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Caveat</strong> it might make problem over-constrained, if the path constraints are equality constraints.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.randomGenX">
<code class="descname">randomGenX</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.randomGenX"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.randomGenX" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">trajOptLib.TrajOptCollocProblem.random_gen_guess()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.random_gen_guess">
<code class="descname">random_gen_guess</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.random_gen_guess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.random_gen_guess" title="Permalink to this definition">¶</a></dt>
<dd><p>A more reansonable approach to generate random guess for the problem.</p>
<p>It considers bounds on initial and final states so this is satisfied.
Then it linearly interpolate between states.
Controls are randomly generated within control bound, if it presents. Otherwise [-1, 1]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return x:</th><td class="field-body">ndarray, (numSol, ) an initial guess of the solution</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.set_N">
<code class="descname">set_N</code><span class="sig-paren">(</span><em>N</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.set_N"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.set_N" title="Permalink to this definition">¶</a></dt>
<dd><p>Set N.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>N</strong> – the size of discretization.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.set_p_bound">
<code class="descname">set_p_bound</code><span class="sig-paren">(</span><em>plb</em>, <em>pub</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.set_p_bound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.set_p_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Set bounds on parameter variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>plb</strong> – ndarray, (dimp,) lower bounds on parameter variables.</li>
<li><strong>pub</strong> – ndarray, (dimp,) upper bounds on parameter variables.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.set_t0_tf">
<code class="descname">set_t0_tf</code><span class="sig-paren">(</span><em>t0</em>, <em>tf</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.set_t0_tf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.set_t0_tf" title="Permalink to this definition">¶</a></dt>
<dd><p>Set t0 and tf.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>t0</strong> – float/ndarray (2,) allowable t0</li>
<li><strong>tf</strong> – float/ndarray (2,) allowable tf</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.set_u_bound">
<code class="descname">set_u_bound</code><span class="sig-paren">(</span><em>ulb</em>, <em>uub</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.set_u_bound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.set_u_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Set bounds on control variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ulb</strong> – ndarray, (dimu,) lower bounds on control variables.</li>
<li><strong>uub</strong> – ndarray, (dimu,) upper bounds on control variables.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.set_x0_bound">
<code class="descname">set_x0_bound</code><span class="sig-paren">(</span><em>x0lb</em>, <em>x0ub</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.set_x0_bound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.set_x0_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Set bounds on x0. This is optional but useful.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>x0lb</strong> – ndarray, (dimx,) lower bounds on x0 variables.</li>
<li><strong>x0ub</strong> – ndarray, (dimx,) upper bounds on x0 variables.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.set_x_bound">
<code class="descname">set_x_bound</code><span class="sig-paren">(</span><em>xlb</em>, <em>xub</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.set_x_bound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.set_x_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Set bounds on state variables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>xlb</strong> – ndarray, (dimx,) lower bounds on state variables.</li>
<li><strong>xub</strong> – ndarray, (dimx,) upper bounds on state variables.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptCollocProblem.set_xf_bound">
<code class="descname">set_xf_bound</code><span class="sig-paren">(</span><em>xflb</em>, <em>xfub</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptCollocationProblem.html#TrajOptCollocProblem.set_xf_bound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptCollocProblem.set_xf_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Set bounds on xf. This is optional but useful.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>xflb</strong> – ndarray, (dimx,) lower bounds on xf variables.</li>
<li><strong>xfub</strong> – ndarray, (dimx,) upper bounds on xf variables.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.NonLinearConnectConstr">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">NonLinearConnectConstr</code><span class="sig-paren">(</span><em>phase1</em>, <em>phase2</em>, <em>nc</em>, <em>lb=None</em>, <em>ub=None</em>, <em>nG=None</em>, <em>index1=-1</em>, <em>index2=0</em>, <em>addx_index=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#NonLinearConnectConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.NonLinearConnectConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for defining point constraint function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Currentmodule:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="trajoptlib.NonLinearConnectConstr.__callg__">
<code class="descname">__callg__</code><span class="sig-paren">(</span><em>x1</em>, <em>x2</em>, <em>F</em>, <em>G</em>, <em>row</em>, <em>col</em>, <em>rec</em>, <em>needg</em>, <em>addx=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#NonLinearConnectConstr.__callg__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.NonLinearConnectConstr.__callg__" title="Permalink to this definition">¶</a></dt>
<dd><p>Call and evaluate the constraint function. x1 and x2 are points in phase 1 and phase 2.</p>
<p>I return them together in G, row, col since it might be derived from sympy so thay are together.
But, human derived formulas love the previous one better</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.NonLinearConnectConstr.find_time_gradient">
<code class="descname">find_time_gradient</code><span class="sig-paren">(</span><em>x1</em>, <em>x2</em>, <em>addx=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#NonLinearConnectConstr.find_time_gradient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.NonLinearConnectConstr.find_time_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>Find where the gradients are w.r.t time.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.LinearConnectConstr">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">LinearConnectConstr</code><span class="sig-paren">(</span><em>phase1</em>, <em>phase2</em>, <em>a1</em>, <em>a2</em>, <em>lb=None</em>, <em>ub=None</em>, <em>index1=-1</em>, <em>index2=0</em>, <em>adda=None</em>, <em>addx_index=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#LinearConnectConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.LinearConnectConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class for defining linear constraint functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Currentmodule:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="trajoptlib.LinearConnectConstr.find_time_gradient">
<code class="descname">find_time_gradient</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#LinearConnectConstr.find_time_gradient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.LinearConnectConstr.find_time_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>For a matrix, find column 0 indice.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">TrajOptMultiPhaseCollocProblem</code><span class="sig-paren">(</span><em>probs</em>, <em>addx=None</em>, <em>process_args={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pyoptsolver.pyoptsolvercpp.OptProblem</span></code></p>
<p>A class for definition of trajectory optimization problem using collocation constraints with support for phase transition.</p>
<p>The support of multiple phase is implemented by calling functions defined in trajOptCollocProblem since I do not want to reinvent the wheels.
I can conveniently add support for other constraints that connects two phases.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Currentmodule:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem.add_addx_constr">
<code class="descname">add_addx_constr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_addx_constr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem.add_addx_constr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a linear or nonlinear constraint associated with addx.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – a point constraint.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem.add_addx_obj">
<code class="descname">add_addx_obj</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_addx_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem.add_addx_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an objective evaluated at addx to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obj</strong> – a point objective object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem.add_connect_constr">
<code class="descname">add_connect_constr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_connect_constr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem.add_connect_constr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a linear constraint that connects two phases.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – a connect constraint object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem.add_connect_linear_constr">
<code class="descname">add_connect_linear_constr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_connect_linear_constr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem.add_connect_linear_constr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a linear connection constraint to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – a LinearConnectConstr object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem.add_connect_nonlinear_constr">
<code class="descname">add_connect_nonlinear_constr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_connect_nonlinear_constr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem.add_connect_nonlinear_constr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a nonlinear connect constraint to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – a NonLinearConnectConstr object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem.add_constr">
<code class="descname">add_constr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_constr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem.add_constr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a constraint to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – a general constraint function object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem.add_nonlinear_constr">
<code class="descname">add_nonlinear_constr</code><span class="sig-paren">(</span><em>constr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_nonlinear_constr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem.add_nonlinear_constr" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a general nonlinear constraint to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>constr</strong> – a nonLinearConstr object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem.add_nonlinear_obj">
<code class="descname">add_nonlinear_obj</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_nonlinear_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem.add_nonlinear_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a nonlinear objective to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obj</strong> – a nonLinearObj object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem.add_obj">
<code class="descname">add_obj</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.add_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem.add_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a objective function to the problem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>obj</strong> – a general objective function object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem.change_connect_time_constr_bound">
<code class="descname">change_connect_time_constr_bound</code><span class="sig-paren">(</span><em>num</em>, <em>xl</em>, <em>xu</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.change_connect_time_constr_bound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem.change_connect_time_constr_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the connect time constraint if other specification are required.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem.guess_gen_from_phase_sol">
<code class="descname">guess_gen_from_phase_sol</code><span class="sig-paren">(</span><em>phase_sols</em>, <em>addX=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.guess_gen_from_phase_sol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem.guess_gen_from_phase_sol" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an initial guess for the multi-phase problem by concatenating solutions from single phases.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>phase_sols</strong> – list of dict, a list of guess of solutions to each phase</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem.guess_gen_from_phase_traj">
<code class="descname">guess_gen_from_phase_traj</code><span class="sig-paren">(</span><em>X=None</em>, <em>U=None</em>, <em>P=None</em>, <em>t0=None</em>, <em>tf=None</em>, <em>addx=None</em>, <em>tstamp=None</em>, <em>obj=None</em>, <em>addX=None</em>, <em>interp_kind='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.guess_gen_from_phase_traj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem.guess_gen_from_phase_traj" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a guess from the trajectory in other phases.</p>
<p>The parameters are the same with .. py:classmethod::<cite>trajOptCollocation.genGuessFromTraj</cite> but a list version.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem.parse_f">
<code class="descname">parse_f</code><span class="sig-paren">(</span><em>sol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.parse_f"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem.parse_f" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the solution and evaluate on all constraints.
Check which are active and analyze why we are not converging.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sol</strong> – ndarray, the solution we want to analyze</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem.parse_sol">
<code class="descname">parse_sol</code><span class="sig-paren">(</span><em>sol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.parse_sol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem.parse_sol" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a solution, we parse and return readable data structure.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sol</strong> – ndarray or result object returned by SNOPT.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return traj:</th><td class="field-body">a dict of keys ‘t’, ‘x’, ‘u’, ‘p’, ‘phases’.</td>
</tr>
</tbody>
</table>
<ul class="simple">
<li>‘t’ is a concatenated time grid (might not be equidistant, but piecewise equidistant</li>
<li>‘x’ ndarray, (*, dimx) is the concatenated state vector of all phases</li>
<li>‘u’ ndarray, (*, dimu) is the concatenated control vector of all phases</li>
<li>‘p’ ndarray, (*, dimp) is the concatenated parameter vector of all phases</li>
<li>‘phases’ list of dictionaries composed of keys ‘t’, ‘x’, ‘u’, ‘p’, ‘addx’ where ‘addx’ is additional optimization variables.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem.pre_process">
<code class="descname">pre_process</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.pre_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem.pre_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the instances of probFun now we are ready.</p>
<p>Call this function after the objectives and constraints have been set appropriately.
It calculate the space required for SNOPT and allocates sparsity structure if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptMultiPhaseCollocProblem.random_gen_x">
<code class="descname">random_gen_x</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptMultiPhaseCollocationProblem.html#TrajOptMultiPhaseCollocProblem.random_gen_x"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptMultiPhaseCollocProblem.random_gen_x" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a random guess to the problem.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.ManifoldConstr">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">ManifoldConstr</code><span class="sig-paren">(</span><em>nx</em>, <em>nc</em>, <em>order=2</em>, <em>nG=0</em>, <em>nnzJx=0</em>, <em>nnzJg=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptManifoldCollocationProblem.html#ManifoldConstr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.ManifoldConstr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>An object which defines state manifold constraints. We might need other ugly hacks.</p>
<p>Update 1, remove support for constr_order, only allow holonomic constraint, i.e. q
However, user is allowed to control to any level, position / velocity / acceleration level.
For different daeOrder, the implementation is slightly different</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Currentmodule:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="trajoptlib.ManifoldConstr.__callg__">
<code class="descname">__callg__</code><span class="sig-paren">(</span><em>x</em>, <em>F</em>, <em>G</em>, <em>row</em>, <em>col</em>, <em>rec</em>, <em>needg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptManifoldCollocationProblem.html#ManifoldConstr.__callg__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.ManifoldConstr.__callg__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constraint evaluation up to order with no correction.</p>
<p>This function serves as a basic path constraint imposed on every knot point
It is different from nonLinearPointConstr in the following:
1. It is autonomous and time is not considered
2. Only state variables are passed in, no u or p is used</p>
<p>x : ndarray, the state variables including q, dq, ddq, etc
gamma : ndarray, the correction term
F : ndarray, it stores the calculation values
G, row, col : ndarray, the triplet for Jacobian return
rec, needg : control if G is calculated and row, col are modified</p>
<p>This subroutine has no return.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.ManifoldConstr.__calc_correction__">
<code class="descname">__calc_correction__</code><span class="sig-paren">(</span><em>x</em>, <em>gamma</em>, <em>y</em>, <em>Gq</em>, <em>rowq</em>, <em>colq</em>, <em>Gg</em>, <em>rowg</em>, <em>colg</em>, <em>rec</em>, <em>needg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptManifoldCollocationProblem.html#ManifoldConstr.__calc_correction__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.ManifoldConstr.__calc_correction__" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the correction term</p>
<p>It calculate J(qc)^T gamma, and the sparse Jacobians associated with it</p>
<p>x : array-like, q, dq, ddq, etc
gamma : array-like, the correction vector gamma
y : array-like, the function calculation value, it is essentially J(qc)^T gamma
Gq, rowq, colq : array-like, store the Jacobian of correction term w.r.t. x
Gg, rowg, colg : array-like, store the Jacobian of correction term w.r.t. gamma
rec : if we record row and column information
needg : if we calculate G</p>
<p>Calculations are done in-place so no return is required.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.TrajOptManifoldCollocProblem">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">TrajOptManifoldCollocProblem</code><span class="sig-paren">(</span><em>sys</em>, <em>N</em>, <em>t0</em>, <em>tf</em>, <em>man_constr</em>, <em>addx=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptManifoldCollocationProblem.html#TrajOptManifoldCollocProblem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptManifoldCollocProblem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem" title="trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptCollocationProblem.TrajOptCollocProblem</span></code></a></p>
<p>A class for solving state equality constrained problem.</p>
<p>The difference between this class with trajOptCollocProblem is</p>
<ol class="arabic simple">
<li>This class directly handles state constrained problem</li>
<li>This class introduce additional variables at collocation points and change deflect constraints</li>
<li>Additional parameters are linearly interpolated previously, now we let it unconstrained. This is in fact the same with adding</li>
<li>How variables are arranged are different</li>
<li>The state constraints should be defined using a special class which returns higher order time derivatives</li>
</ol>
<p>The optimization variables are arranged by
1. Trajectory region, (2*N - 1) * [q, dq, ddq, …, u, p]
2. t0 and tf region, it might be empty
3. addX region, of length lenAddX
4. gamma region, of length (N-1) * (man_constr.nf)
5. Auxiliary objective region</p>
<dl class="method">
<dt id="trajoptlib.TrajOptManifoldCollocProblem.getGammaIndexByIndex">
<code class="descname">getGammaIndexByIndex</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptManifoldCollocationProblem.html#TrajOptManifoldCollocProblem.getGammaIndexByIndex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptManifoldCollocProblem.getGammaIndexByIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the index of gamma by its index.</p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptManifoldCollocProblem.parseF">
<code class="descname">parseF</code><span class="sig-paren">(</span><em>guess</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptManifoldCollocationProblem.html#TrajOptManifoldCollocProblem.parseF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptManifoldCollocProblem.parseF" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <code class="xref py py-func docutils literal notranslate"><span class="pre">trajOptLib.TrajOptManifoldCollocProblem.parse_f()</span></code></p>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptManifoldCollocProblem.parse_f">
<code class="descname">parse_f</code><span class="sig-paren">(</span><em>guess</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptManifoldCollocationProblem.html#TrajOptManifoldCollocProblem.parse_f"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptManifoldCollocProblem.parse_f" title="Permalink to this definition">¶</a></dt>
<dd><p>Give an guess, evaluate it and parse into parts.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>guess</strong> – ndarray, (numSol, ) a guess or a solution to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict, containing objective and parsed constraints</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.TrajOptManifoldCollocProblem.pre_process">
<code class="descname">pre_process</code><span class="sig-paren">(</span><em>defect_u=True</em>, <em>defect_p=False</em>, <em>gamma_bound=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/trajOptManifoldCollocationProblem.html#TrajOptManifoldCollocProblem.pre_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.TrajOptManifoldCollocProblem.pre_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the problem, allocating spaces.</p>
<p>Compared with trajOptCollocProblem, it has new sets of variables, different constraints.
It supports limitation of magnitude of gamma, as gamma_bound means.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.SystemWrapper">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">SystemWrapper</code><span class="sig-paren">(</span><em>fun</em>, <em>nx</em>, <em>nu</em>, <em>np</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/classBuilder.html#SystemWrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.SystemWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.System" title="trajoptlib.trajOptBase.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.System</span></code></a></p>
<p>This class takes a function and returns a system.</p>
<dl class="method">
<dt id="trajoptlib.SystemWrapper.dyn">
<code class="descname">dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/classBuilder.html#SystemWrapper.dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.SystemWrapper.dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamics function without gradient information.</p>
<p>It has to be overriden.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>t</strong> – float, time when evaluating system dynamics</li>
<li><strong>x</strong> – np.ndarray, (nx,) state variable</li>
<li><strong>u</strong> – np.ndarray, (nu,) control variable</li>
<li><strong>p</strong> – np.ndarray, (np,) additional optimizing variable</li>
<li><strong>h</strong> – float, used for discretized system. Integration step size</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">either dotx or x_k+1 depends on system type</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.SystemWrapper.jac_dyn">
<code class="descname">jac_dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/classBuilder.html#SystemWrapper.jac_dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.SystemWrapper.jac_dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamics function with Jacobian return.</p>
<p>It has to be overriden.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong><strong>, </strong><strong>u</strong><strong>, </strong><strong>p</strong><strong>, </strong><strong>h</strong> (<em>t</em><em>,</em>) – see dyn</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">y: ndarray, either dotx or x_k+1</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">J: ndarray/spmatrix, returning Jacobian of this function evaluation</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.DaeSystemWrapper">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">DaeSystemWrapper</code><span class="sig-paren">(</span><em>fun</em>, <em>nx</em>, <em>nu</em>, <em>np</em>, <em>nf</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/classBuilder.html#DaeSystemWrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.DaeSystemWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.DaeSystem" title="trajoptlib.trajOptBase.DaeSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.DaeSystem</span></code></a></p>
<p>This class takes a function and returns a system.</p>
<dl class="method">
<dt id="trajoptlib.DaeSystemWrapper.dyn">
<code class="descname">dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p</em>, <em>y</em>, <em>G</em>, <em>row</em>, <em>col</em>, <em>rec</em>, <em>needg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/classBuilder.html#DaeSystemWrapper.dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.DaeSystemWrapper.dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Override class method</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.NonLinearPointConstrWrapper">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">NonLinearPointConstrWrapper</code><span class="sig-paren">(</span><em>fun</em>, <em>nx</em>, <em>nu</em>, <em>np</em>, <em>nc</em>, <em>index</em>, <em>lb=None</em>, <em>ub=None</em>, <em>args=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/classBuilder.html#NonLinearPointConstrWrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.NonLinearPointConstrWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.NonLinearPointConstr" title="trajoptlib.trajOptBase.NonLinearPointConstr"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.NonLinearPointConstr</span></code></a></p>
<p>This class takes a function and wrap it as a point constraint.</p>
</dd></dl>

<dl class="function">
<dt id="trajoptlib.block_index">
<code class="descclassname">trajoptlib.</code><code class="descname">block_index</code><span class="sig-paren">(</span><em>i</em>, <em>j</em>, <em>rows</em>, <em>cols</em>, <em>order='C'</em><span class="sig-paren">)</span><a class="headerlink" href="#trajoptlib.block_index" title="Permalink to this definition">¶</a></dt>
<dd><p>For a matrix block, we return the index of row and columns.</p>
<p>For a matrix we choose a block using the upper left corner positioned
at (i, j) and size (row, col). Each element of the block has row and
col index, they are returned in two arrays. The order controls we use
row or column major order</p>
<p>For example, blockIndex(1, 3, 2, 3, ‘C’) returns
(array([1, 1, 1, 2, 2, 2]), array([3, 4, 5, 3, 4, 5]))</p>
<dl class="docutils">
<dt>i: int</dt>
<dd>the row of the upper left corner</dd>
<dt>j: int</dt>
<dd>the column of the upper left corner</dd>
<dt>rows: int</dt>
<dd>number of rows of the block</dd>
<dt>cols: int</dt>
<dd>number of columns of the block</dd>
<dt>order: char</dt>
<dd>(‘C’/’F’) if we return row or column major</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.GeometricRobot">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">GeometricRobot</code><span class="sig-paren">(</span><em>dim</em>, <em>dimp=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/systemBuilder.html#GeometricRobot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.GeometricRobot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.DaeSystem" title="trajoptlib.trajOptBase.DaeSystem"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.DaeSystem</span></code></a></p>
<p>A class that defines a geometric robot, no dynamics involved</p>
<dl class="method">
<dt id="trajoptlib.GeometricRobot.dyn">
<code class="descname">dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p</em>, <em>y</em>, <em>G</em>, <em>row</em>, <em>col</em>, <em>rec</em>, <em>needg</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/systemBuilder.html#GeometricRobot.dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.GeometricRobot.dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Write dynamics function</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.GeometricRobotSystem">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">GeometricRobotSystem</code><span class="sig-paren">(</span><em>dim</em>, <em>dimp=0</em>, <em>ode='Euler'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/systemBuilder.html#GeometricRobotSystem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.GeometricRobotSystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#trajoptlib.trajOptBase.System" title="trajoptlib.trajOptBase.System"><code class="xref py py-class docutils literal notranslate"><span class="pre">trajoptlib.trajOptBase.System</span></code></a></p>
<p>A class that implements a geometric robot, second order.</p>
<dl class="method">
<dt id="trajoptlib.GeometricRobotSystem.dyn">
<code class="descname">dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p=None</em>, <em>h=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/systemBuilder.html#GeometricRobotSystem.dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.GeometricRobotSystem.dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamics function without gradient information.</p>
<p>It has to be overriden.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>t</strong> – float, time when evaluating system dynamics</li>
<li><strong>x</strong> – np.ndarray, (nx,) state variable</li>
<li><strong>u</strong> – np.ndarray, (nu,) control variable</li>
<li><strong>p</strong> – np.ndarray, (np,) additional optimizing variable</li>
<li><strong>h</strong> – float, used for discretized system. Integration step size</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">either dotx or x_k+1 depends on system type</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="trajoptlib.GeometricRobotSystem.jac_dyn">
<code class="descname">jac_dyn</code><span class="sig-paren">(</span><em>t</em>, <em>x</em>, <em>u</em>, <em>p</em>, <em>h=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/systemBuilder.html#GeometricRobotSystem.jac_dyn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.GeometricRobotSystem.jac_dyn" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamics function with Jacobian return.</p>
<p>It has to be overriden.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>x</strong><strong>, </strong><strong>u</strong><strong>, </strong><strong>p</strong><strong>, </strong><strong>h</strong> (<em>t</em><em>,</em>) – see dyn</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">y: ndarray, either dotx or x_k+1</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">J: ndarray/spmatrix, returning Jacobian of this function evaluation</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="trajoptlib.parse_X">
<code class="descclassname">trajoptlib.</code><code class="descname">parse_X</code><span class="sig-paren">(</span><em>x</em>, <em>N</em>, <em>dimx</em>, <em>dimu</em>, <em>dimp</em>, <em>uset0</em>, <em>usetf</em>, <em>setfinal=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/utility.html#parse_X"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.parse_X" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the solution into a dict of time, state, control, parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> – ndarray, solution found by SNOPT</li>
<li><strong>dimx</strong><strong>, </strong><strong>dimu</strong><strong>, </strong><strong>dimp</strong> (<em>N</em><em>,</em>) – discretization of the problem</li>
<li><strong>usetf</strong> (<em>uset0</em><em>,</em>) – float/array like, specification of initial and final time</li>
<li><strong>setfinal</strong> – if we set the final element of u/p the same with second last</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a dictionary of keys ‘t’, ‘x’, ‘u’, ‘p’</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="trajoptlib.show_sol">
<code class="descclassname">trajoptlib.</code><code class="descname">show_sol</code><span class="sig-paren">(</span><em>solDict</em>, <em>xsplit=None</em>, <em>usplit=None</em>, <em>psplit=None</em>, <em>show=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/utility.html#show_sol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.show_sol" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the parsed solution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>solDict</strong> – dict, returned from solParse; or a list of such dict. Then they are compared</li>
<li><strong>xsplit</strong> – if state space is large, this splits it into several images it’s a list of int like (3, 6). None means no split</li>
<li><strong>usplit</strong> – similar to xsplit, apply for control</li>
<li><strong>psplit</strong> – similar to xsplit, apply for parameter</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="trajoptlib.get_inf">
<code class="descclassname">trajoptlib.</code><code class="descname">get_inf</code><span class="sig-paren">(</span><em>n=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/trajoptlib/utility.html#get_inf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.get_inf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an inf array.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> – int, size of the array to return, None means scalar</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns y:</th><td class="field-body">the scalar inf or array of inf</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="trajoptlib.OptSolver">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">OptSolver</code><span class="sig-paren">(</span><em>problem</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyoptsolver/pyoptsolver.html#OptSolver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.OptSolver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="method">
<dt id="trajoptlib.OptSolver.solve_guess">
<code class="descname">solve_guess</code><span class="sig-paren">(</span><em>guess</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyoptsolver/pyoptsolver.html#OptSolver.solve_guess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.OptSolver.solve_guess" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="trajoptlib.OptSolver.solve_rand">
<code class="descname">solve_rand</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyoptsolver/pyoptsolver.html#OptSolver.solve_rand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.OptSolver.solve_rand" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="trajoptlib.OptConfig">
<em class="property">class </em><code class="descclassname">trajoptlib.</code><code class="descname">OptConfig</code><span class="sig-paren">(</span><em>backend='ipopt'</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyoptsolver/pyoptsolver.html#OptConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#trajoptlib.OptConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>This class is used to keep track of various optimization configurations.</p>
<p>It provides a unified interface for interacting with those solvers.
Some custom options are also supported, but might not work depending on the backend.</p>
<dl class="attribute">
<dt id="trajoptlib.OptConfig.ipopt_options">
<code class="descname">ipopt_options</code><em class="property"> = set(['exact_hessian', 'fd_jacobian', 'linear_solver', 'print_freq'])</em><a class="headerlink" href="#trajoptlib.OptConfig.ipopt_options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="trajoptlib.OptConfig.scipy_kws">
<code class="descname">scipy_kws</code><em class="property"> = set(['tol'])</em><a class="headerlink" href="#trajoptlib.OptConfig.scipy_kws" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="trajoptlib.OptConfig.scipy_option_kws">
<code class="descname">scipy_option_kws</code><em class="property"> = set(['barrier_tol', 'disp', 'factorization_method', 'grad', 'gtol', 'initial_barrier_parameter', 'initial_barrier_tolerance', 'initial_constr_penalty', 'initial_tr_radius', 'xtol'])</em><a class="headerlink" href="#trajoptlib.OptConfig.scipy_option_kws" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="trajoptlib.OptConfig.shared_options">
<code class="descname">shared_options</code><em class="property"> = set(['deriv_check', 'fea_tol', 'major_iter', 'opt_tol', 'print_level'])</em><a class="headerlink" href="#trajoptlib.OptConfig.shared_options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="trajoptlib.OptConfig.snopt_options">
<code class="descname">snopt_options</code><em class="property"> = set(['iter_limit', 'minor_iter', 'print_file'])</em><a class="headerlink" href="#trajoptlib.OptConfig.snopt_options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">trajoptlib</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Gao Tang.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/trajoptlib.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>